openapi: 3.0.4
info:
  title: formulari
  description: Servizio Formulari RENTRI
  termsOfService: 'https://www.rentri.gov.it'
  contact:
    email: techref@rentri.it
  version: 1.0.20260211-891
  x-summary: Servizio Formulari RENTRI
  x-api-id: rentrigov.formulari
servers:
  - url: 'https://api.rentri.gov.it/formulari/v1.0'
    description: Production
paths:
  /:
    get:
      tags:
        - Formulario digitale
      summary: Elenco formulari
      description: >-
        Ottiene l'elenco dei formulari richiesti con visibilità per l'unità
        locale indicata e con i filtri specificati.
      parameters:
        - name: num_iscr_sito
          in: query
          description: >-
            Numero iscrizione unità locale rilasciato all'iscrizione per il
            quale si richiedono i formulari.

            Il dato deve essere valorizzato in assenza di un valore per la
            proprietà "identificativo_soggetto".
          schema:
            type: string
        - name: identificativo_soggetto
          in: query
          description: >-
            Identificativo del soggetto.

            Quando viene specificato vengono restituiti tutti i FIR digitali nei
            quali il valore specificato 

            coincide con il codice fiscale di uno dei soggetti indicati,
            indipendentemente dallo specifico ruolo 

            e indipendentemente dall'aver acquisito la visibilità del FIR
            digitale in una specifica Unità Locale.

            Il dato deve essere valorizzato in assenza di un valore per la
            proprietà "num_iscr_sito".
          schema:
            type: string
        - name: solo_senza_visibilita_siti
          in: query
          description: >-
            Se valorizzata a true, quando viene valorizzata la proprietà
            "identificativo_soggetto" esclude dalla lista restituita 

            i FIR per cui esiste già visibilità per almeno un'unità locale
            riconducibile al soggetto stesso.
          schema:
            type: boolean
        - name: numero_fir
          in: query
          description: Numero del FIR
          schema:
            type: string
        - name: codice_blocco
          in: query
          description: Codice blocco del FIR
          schema:
            type: string
        - name: data_creazione_da
          in: query
          description: >-
            Data di creazione a partire dalla quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_creazione_a
          in: query
          description: >-
            Data massima di creazione per la quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_emissione_da
          in: query
          description: >-
            Data di emissione a partire dalla quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_emissione_a
          in: query
          description: >-
            Data massima di emissione entro la quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: codice_eer
          in: query
          description: Codice EER
          schema:
            maxLength: 8
            type: string
        - name: stati
          in: query
          schema:
            type: array
            items:
              type: string
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page.
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize.
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
      responses:
        '200':
          description: Esito della richiesta
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FormularioItemResult'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di parametri richiesti
            non specificati
        '403':
          description: Operazione non consentita
        '404':
          description: Entità non trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Crea FIR"
      description: >-
        Acquisisce la richiesta di creazione di un nuovo FIR.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto produttore o il soggetto del primo
        trasportatore indicati nei dati del formulario usati come modello.


        Il numero del nuovo FIR può essere specificato nell'apposita proprietà
        del modello,

        altrimenti verrà generato automaticamente dal sistema dal blocco
        indicato nel parametro <b>codice_blocco</b>.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: codice_blocco
          in: query
          description: >-
            Codice blocco dal nuovo dal quale verrà vidimato in automatico il
            nuovo numero FIR da associare al formulario
          schema:
            pattern: '^[BCDFGHJKLMNPQRSTVWXYZ]{4,6}$'
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati del formulario da creare
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/NuovoFormularioModel'
              description: Formulario
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoCreaFormularioModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}':
    get:
      tags:
        - Formulario digitale
      summary: Dettaglio FIR
      description: >-
        Restituisce i dati completi del formulario indicato. 


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) almeno uno dei soggetti coinvolti nel formulario.
      parameters:
        - name: numero_fir
          in: path
          description: Numero del FIR per il quale si richiede il dettaglio
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
      responses:
        '200':
          description: Operazione eseguita con successo.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DettaglioFormulario'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di parametri richiesti
            non specificati
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita.
        '404':
          description: Formulario non trovato.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    put:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Modifica FIR"
      description: >-
        Acquisisce la richiesta di modifica dei dati di un FIR esistente.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto produttore o il soggetto del primo
        trasportatore indicati nel formulario originale.


        Stati del formulario ammessi:

        <ul><li>InserimentoQuantita</li><li>InserimentoQuantitaTrasportoIniziale</li><li>InserimentoTrasportoIniziale</li><li>FirmaProduttoreTrasportatoreIniziale</li><li>FirmaTrasportatoreIniziale
        (per formulario da trasbordo parziale)</li></ul>

        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati del formulario da sostituire a quelli presenti
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/NuovoFormularioModel'
              description: Formulario
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/accettazione':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Accettazione FIR"
      description: >-
        Acquisisce la richiesta di aggiunta dei dati di accettazione del rifiuto
        da parte del destinatario per il FIR specificato.


        L'aggiunta dei dati di accettazione è consentita solo ad un'utenza che
        abbia visibilità per (o coincida con) il soggetto destinatario che è in
        attesa del rifiuto. 


        Stati del formulario ammessi:

        <ul><li>InserimentoAccettazione</li></ul>

        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati di accettazione del rifiuto
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiAccettazioneModel'
              description: Dati accettazione
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/acquisizione-firma':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Imposta dati firma"
      description: >-
        Acquisisce la richiesta di aggiunta dei dati per completare la creazione
        del file di firma digitale XAdES nel file xFIR.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il soggetto,

        tra quelli indicati nel formulario, coinvolto nell'operazione di
        aggiunta delle informazioni da firmare.


        Il formulario deve essere in uno stato di attesa di firma, conseguente
        all'aggiunta di nuove informazioni.


        Stati del formulario ammessi:

        <ul><li>FirmaProduttoreTrasportatoreIniziale</li><li>FirmaProduttore</li><li>FirmaTrasportatoreIniziale</li><li>FirmaTrasportatoreSuccessivo</li><li>FirmaAccettazione</li><li>FirmaAnnotazione</li><li>FirmaAnnullamento</li><li>FirmaTrasbordoParziale</li><li>FirmaTrasbordoTotale</li><li>FirmaSostaTecnica</li><li>FirmaDestinatarioSuccessivo</li><li>FirmaAccettazioneSuccessiva</li></ul>

        Il valore della proprietà <i>firma</i> deve corrispondere alla firma
        crittografica calcolata con la chiave privata 

        associata al certificato X509 indicato nella proprietà
        <i>certificato</i>.


        Il valore della proprietà <i>token</i> deve coincidere con il valore
        restituito dalla precedente invocazione all'endpoint <i>POST
        /{numero_fir}/hash</i>,

        utilizzata per richiedere il codice hash da firmare.


        In ambiente di <b>PRODUZIONE</b> l'operazione asincrona, con
        l'identificativo della transazione restituito dall'endpoint, avrà esito
        positivo solo se 

        il codice hash firmato è stato calcolato sulla base di una data
        dichiarata di firma successiva alle ore 00:00 del giorno 13/02/2026.


        L'art. 7 c.3 del D.M. 59/2023 prevede che il FIR sia sottoscritto da
        parte degli operatori coinvolti nelle diverse fasi del trasporto, 

        per cui se il certificato di firma è intestato ad una persona giuridica
        deve riferirsi al soggetto firmatario.

        Esclusivamente in ambiente <b>DEMO</b>, se il certificato firmatario non
        viene riconosciuto come valido secondo la regola qui descritta, il
        sistema produrrà un avviso non bloccante.

        In ambiente di <b>PRODUZIONE</b> il controllo sarà bloccante.


        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario a cui si aggiunge la firma
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati necessari per aggiungere la firma al formulario
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/FirmaModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/acquisizione-visibilita/{num_iscr_sito}':
    post:
      tags:
        - Formulario digitale
      summary: Acquisizione visibilità FIR
      description: >-
        Acquisisce la visibilità in ricerca sull'unità locale specificata di un
        FIR digitale creato da terzi.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) almeno uno dei soggetti coinvolti nel formulario, 

        e a cui deve essere riferibile il numero di iscrizione dell'unità locale
        specificata nel parametro <b>num_iscr_sito</b>

        .

        L'operazione consente di rendere visibile il FIR digitale in ricerca per
        una specifica unità locale.
      parameters:
        - name: numero_fir
          in: path
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: num_iscr_sito
          in: path
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
      responses:
        '200':
          description: L'acquisizione di visibilità è avvenuta con successo
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/{numero_fir}/acquisizione/{num_iscr_sito}':
    post:
      tags:
        - Formulario digitale
      summary: >-
        ⚠️[DEPRECATO] - utilizzare
        /{numeroFIR}/acquisizione-visibilita/{numIscrSito} - Acquisizione
        visibilità FIR
      description: >-
        Acquisisce la visibilità in ricerca sull'unità locale specificata di un
        FIR digitale creato da terzi.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) almeno uno dei soggetti coinvolti nel formulario, 

        e a cui deve essere riferibile il numero di iscrizione dell'unità locale
        specificata nel parametro <b>num_iscr_sito</b>

        .

        L'operazione consente di rendere visibile il FIR digitale in ricerca per
        una specifica unità locale.
      parameters:
        - name: numero_fir
          in: path
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: num_iscr_sito
          in: path
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
      responses:
        '200':
          description: L'acquisizione di visibilità è avvenuta con successo
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/{numero_fir}/allegato':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Aggiunge un allegato"
      description: >-
        Acquisisce la richiesta di aggiunta di un allegato al formulario
        digitale specificato.


        L'operazione può essere eseguita in tutti gli stati, salvo gli stati
        Annullato e FirmaAnnullamento.


        Il file aggiunto all'xFIR viene inserito all'interno del contenitore ZIP
        e non ncessita di essere firmato.


        Il file da allegare non deve superare 1 MB di dimensione, e la
        dimensione massima del file xFIR risultante non deve superare i 3 MB.

        I file accettati come allegati da questo endpoint devono necessariamente
        essere dei file PDF.


        Per il recupero dell'allegato è necessario scaricare il file xFIR.


        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: >-
          Insieme delle informazioni riguardanti l'allegato da aggiungere al
          formulario
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiAllegatoModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoAllegatoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/allegato/{allegato_id}':
    get:
      tags:
        - Formulario digitale
      summary: Download un allegato
      description: >-
        Restituisce il file allegato al formulario digitale specificato.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto a cui è stato riferito l'allegato specificato
        in fase di inserimento.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: allegato_id
          in: path
          description: Identificativo dell'allegato all'interno del FIR digitale
          required: true
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Operazione eseguita con successo.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownloadableBaseResponse'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    delete:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Rimuove un allegato"
      description: >-
        Acquisisce la richiesta di eliminazione di un allegato dal formulario
        digitale specificato.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto a cui è stato riferito l'allegato specificato
        in fase di inserimento.


        L'operazione può essere eseguita in tutti gli stati, salvo gli stati
        Annullato e FirmaAnnullamento.


        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: allegato_id
          in: path
          description: Identificativo dell'allegato all'interno del FIR digitale
          required: true
          schema:
            type: integer
            format: int32
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/annotazione':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Aggiunge annotazione"
      description: >-
        Acquisisce la richiesta di aggiunta di un'annotazione da allegare al
        formulario digitale specificato.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il soggetto del formulario, trasportatore o destinatario,
        che risulta avere in carico il rifiuto successivamente alle firme di
        partenza.


        Stati del formulario ammessi:

        <ul><li>InserimentoAccettazione</li><li>InserimentoTrasportoSuccessivo</li><li>Accettato</li><li>RespintoAccettatoParzialmente</li></ul>

        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: >-
          Insieme delle informazioni riguardanti l'allegato da aggiungere al
          formulario
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiAnnotazioneModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/annulla':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] ⚠️[DEPRECATO] - utilizzare /{numeroFIR}/annulla-fir - Annullamento FIR"
      description: >-
        Acquisisce la richiesta di annullamento del FIR specificato.


        L'annullamento può essere richiesto solo se il formulario non risulta
        già essere firmato sia dal produttore che dal trasportatore.


        L'operazione di annullamento provvede ad annullare il FIR e la relativa
        vidimazione. Questa operazione può essere richiesta solo dal soggetto
        che ha vidimato il numero FIR.

        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: >-
          Insieme delle informazioni riguardanti l'allegato da aggiungere al
          formulario
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiAnnullamentoModel'
              description: Dati richiesti per l'annullamento di un FIR
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
      deprecated: true
  '/{numero_fir}/annulla-fir':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Annullamento FIR"
      description: >-
        Acquisisce la richiesta di annullamento del FIR specificato.


        L'operazione può essere richiesta solo da un utenza che abbia incarichi
        per (o coincida con) il soggetto che, tra produttore e trasportatore
        iniziale, ha vidimato il numero FIR.


        L'annullamento può essere richiesto solo se il formulario non risulta
        già essere firmato sia dal produttore che dal trasportatore.


        Stati del formulario ammessi:

        <ul><li>InserimentoQuantita</li><li>InserimentoQuantitaTrasportoIniziale</li><li>InserimentoTrasportoIniziale</li><li>FirmaProduttoreTrasportatoreIniziale</li><li>FirmaProduttore</li><li>FirmaTrasportatoreIniziale</li></ul>

        Ulteriori condizioni affinché l'annullamento sia eseguito sono:

        <ul><li>Non deve risultare una copia digitale del FIR con lo stesso
        numero già consegnata dal destinatario</li><li>Non deve risultare (per
        rifiuti pericolosi) alcuna trasmissione di dati del FIR digitale con lo
        stesso numero avvenuta da parte di alcun soggetto coinvolto nel
        FIR.</li></ul>

        L'operazione di annullamento provvede ad annullare il FIR e la relativa
        vidimazione.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/azioni':
    get:
      tags:
        - Formulario digitale
      summary: Operazioni disponibili
      description: >-
        Restituisce l'elenco delle azioni che è possibile eseguire sul
        formulario indicato, in funzione dello stato in cui si trova, dal
        soggetto specificato nel parametro <b>identificativo_soggetto</b>.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto specificato nel parametro
        <b>identificativo_soggetto</b> ed almeno uno dei soggetti coinvolti nel
        formulario.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: identificativo_soggetto
          in: query
          description: >-
            Codice fiscale del soggetto per il quale si richiedono le azioni
            possibili
          required: true
          schema:
            type: string
        - name: num_iscr_sito
          in: query
          description: >-
            Se valorizzato con il numero di iscrizione di una unità locale del
            soggetto specificato con il parametro
            <b>identificativo_soggetto</b>, l'unità locale acquisisce
            automaticamente la visibilità per il FIR digitale
          schema:
            type: string
      responses:
        '200':
          description: Operazione eseguita con successo.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AzioniResult'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di parametri richiesti
            non specificati
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita.
        '404':
          description: Formulario non trovato.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/{numero_fir}/destinatario':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Aggiunge nuovo destinatario"
      description: >-
        Acquisisce la richiesta di aggiunta dei dati del nuovo destinatario per
        il rifiuto indicato nel formulario specificato, a seguito del

        respingimento o della parziale accettazione del rifiuto da parte del
        destinatario precedente.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il soggetto produttore o il soggetto trasportatore che
        risulta avere 

        in carico il rifiuto al momento del respingimento.


        Stati del formulario ammessi:

        <ul><li>RespintoAccettatoParzialmente</li></ul>

        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario a cui si aggiunge il nuovo destinatario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Informazioni sul nuovo destinatario da aggiungere
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/DatiDestinatarioFormularioModel'
                - $ref: '#/components/schemas/DatiDestinatarioFormularioSitoModel'
              description: Dati destinatario
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/hash':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Calcolo del codice hash da firmare"
      description: "Acquisisce la richiesta per il calcolo del codice hash di tipo SHA256 da firmare per poter apporre la firma digitale sul formulario.\r\n\r\nL'operazione può essere eseguita da un'utenza che abbia visibilità su (o coincida con) il soggetto tra quelli indicati nel formulario \r\ncoinvolto nell'operazione di aggiunta delle informazioni da firmare.\r\n\r\nIl formulario deve essere in uno stato di attesa di firma, conseguente all'aggiunta di nuove informazioni.\r\n\r\nStati del formulario ammessi:\r\n<ul><li>FirmaProduttoreTrasportatoreIniziale</li><li>FirmaProduttore</li><li>FirmaTrasportatoreIniziale</li><li>FirmaTrasportatoreSuccessivo</li><li>FirmaAccettazione</li><li>FirmaAnnotazione</li><li>FirmaAnnullamento</li><li>FirmaTrasbordoParziale</li><li>FirmaTrasbordoTotale</li><li>FirmaSostaTecnica</li><li>FirmaDestinatarioSuccessivo</li><li>FirmaAccettazioneSuccessiva</li></ul>\r\nQuesta operazione non muta lo stato del formulario.\r\n\r\nIl codice hash SHA256 prodotto da questo endpoint è calcolato sull'elemento della struttura dati XAdES <i>ds:SignedInfo</i>,\r\nche contiene un riferimento ad una data dichiarata di firma impostata con l'ora corrente al momento dell'invocazione.\r\n \r\nIl codice hash dovrà essere firmato con la chiave privata associata al certificato X509 indicato nella proprietà <i>certificato</i> del modello di input.\r\n\r\nPer completare l'apposizione della firma al formulario digitale dovrà essere successivamente invocato l'endpoint <i>POST /{numero_fir}/acquisizione-firma</i> \r\nspecificando nel modello di input: \r\n<ul><li>lo stesso certificato X509 incluso nell'invocazione di questo endpoint</li><li>lo stesso token ricevuto nell'esito di questa invocazione</li><li>la firma crittografica calcolata con la chiave privata associata al certificato X509</li></ul>\r\nL'art. 7 c.3 del D.M. 59/2023 prevede che il FIR sia sottoscritto da parte degli operatori coinvolti nelle diverse fasi del trasporto, \r\nper cui se il certificato di firma è intestato ad una persona giuridica deve riferirsi al soggetto firmatario.\r\nEsclusivamente in ambiente <b>DEMO</b>, se il certificato firmatario non viene riconosciuto come valido secondo la regola qui descritta, il sistema produrrà un avviso non bloccante.\r\nIn ambiente di <b>PRODUZIONE</b> il controllo sarà bloccante.\r\n\r\nCon l'identificativo della transazione restituito è possibile consultare lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine dell'elaborazione dei dati, il fruitore riceverà una notifica con l'esito dell'elaborazione all'URL specificato."
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario a cui si aggiunge la firma
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Informazioni necessarie per il calcolo del codice hash da firmare
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiPerFirmaModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoDatiPerFirmaModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/invia-a-dispositivo':
    post:
      tags:
        - Formulario digitale
      summary: Invia il FIR ad un dispositivo
      description: >-
        Effettua l'invio delle informazioni di un formulario al dispositivo
        associato all'identificativo delle credenziali.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) almeno uno dei soggetti coinvolti nel formulario.


        Le credenziali indicate nel parametro <b>credentials_id</b> devono
        essere state create attraverso le API "Firma remota RENTRI", 

        e devono essere associate o all'unità locale che ha creato il FIR
        digitale, oppure ad una delle unità locali che abbiano già acquisito la
        visibilità del FIR digitale.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: credentials_id
          in: query
          description: Identificativo delle credenziali
          required: true
          schema:
            type: string
      responses:
        '200':
          description: L'invio del FIR è avvenuto con successo
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/{numero_fir}/note-annullamento':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Imposta le note di annullamento del FIR"
      description: >-
        Acquisisce la richiesta di aggiunta delle note di annullamento per il
        FIR specificato.


        L'operazione può essere richiesta solo da un utenza che abbia incarichi
        per (o coincida con) il soggetto che, tra produttore e trasportatore
        iniziale, ha vidimato il numero FIR.


        Stati del formulario ammessi:

        <ul><li>Annullato (il formulario deve essere privo di note)</li></ul>

        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati di annullamento
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/NoteAnnullamentoModel'
              description: >-
                Dati richiesti per l'aggiunta delle note di annullamento di un
                FIR
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/pdf':
    get:
      tags:
        - Formulario digitale
      summary: Stampa PDF del FIR
      description: >-
        Ottiene una stampa in PDF del FIR.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) almeno uno dei soggetti coinvolti nel formulario.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
      responses:
        '200':
          description: Formulario in formato PDF restituito in payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownloadableBaseResponse'
        '204':
          description: No Content
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di parametri richiesti
            non specificati
        '403':
          description: Operazione non consentita
        '404':
          description: Formulario non trovato
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/{numero_fir}/quantita':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Imposta quantità"
      description: >-
        Acquisice la richiesta di aggiunta o modifica del dato della quantità
        sul formulario indicato.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il produttore o il primo trasportatore.


        Stati del formulario ammessi:

        <ul><li>InserimentoQuantita</li><li>InserimentoQuantitaTrasportoIniziale</li><li>InserimentoTrasportoIniziale</li><li>FirmaProduttoreTrasportatoreIniziale</li></ul>

        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: ''
          schema:
            type: string
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/QuantitaRifiutoModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/reset':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Reset stato"
      description: >-
        Acquisisce la richiesta di cancellazione degli ultimi dati inseriti nel
        formulario in attesa di firma, riportando lo stato del formulario a
        quello precedente.


        La cancellazione degli ultimi dati inseriti (e non ancora firmati) è
        consentita solo alle utenze con visibilità per (o che coincidono con) 

        gli stessi soggetti coinvolti nel formulario a cui è consentito
        l'inserimento del tipo di informazione che si sta eliminando.

        Stati del formulario ammessi:

        <ul><li>FirmaTrasportatoreIniziale (per formulario da trasbordo
        parziale)</li><li>FirmaTrasportatoreSuccessivo</li><li>FirmaDestinatarioSuccessivo</li><li>FirmaAccettazione</li><li>FirmaAccettazioneSuccessiva</li><li>FirmaAnnotazione</li><li>FirmaAnnullamento</li><li>FirmaTrasbordoParziale</li><li>FirmaTrasbordoTotale</li><li>FirmaSostaTecnica</li></ul>

        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/respingi':
    post:
      tags:
        - Formulario digitale
      summary: >-
        ⚠️[DEPRECATO] - utilizzare
        /{numeroFIR}/rilascio-visibilita/{numIscrSito} - Rilascio visibilità FIR
      description: >-
        Abbandona la visibilità in ricerca sull'unità locale specificata,
        ottenuta con l'operazione di "acquisizione di visibilità", relativamente
        al FIR digitale specificato creato da terzi.
      parameters:
        - name: numero_fir
          in: path
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: num_iscr_sito
          in: query
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
      responses:
        '200':
          description: Il respingimento è avvenuto con successo
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/{numero_fir}/rilascio-visibilita/{num_iscr_sito}':
    post:
      tags:
        - Formulario digitale
      summary: Rilascio visibilità FIR
      description: >-
        Abbandona la visibilità in ricerca sull'unità locale specificata,
        ottenuta con l'operazione di "acquisizione", relativamente al FIR
        digitale specificato creato da terzi.
      parameters:
        - name: numero_fir
          in: path
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: num_iscr_sito
          in: path
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
      responses:
        '200':
          description: Il rilascio della visibilità è avvenuto con successo
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/{numero_fir}/rollback-firma':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Rollback dell'ultima firma"
      description: >-
        Acquisisce la richiesta di rollback dell'ultima firma apposta (tranne la
        firma di annullamento) riportando lo stato del formulario a quello di
        attesa firma precedente alla sua apposizione.


        L'operazione di apposizione delle firme digitali in un FIR attraverso
        gli endpoint di queste API è reversibile solo a determinate condizioni:

        <ul><li>la firma è l'ultima apposta al FIR digitale in ordine
        temporale</li><li>la firma è stata apposta con le API RENTRI senza che
        il file sia stato ricaricato con un'operazione di upload dopo la sua
        apposizione</li><li>la firma è stata apposta su dati riferiti ad un
        soggetto che coincide con l'identità di chi invoca l'endpoint (o per cui
        l'utente che invoca l'endpoint ha visibilità)</li><li>la firma è stata
        apposta entro i 15 minuti precedenti al momento in cui si richiede
        l'operazione (calcolati dalla data firma presente nella struttura dati
        XAdES del file di firma)</li><li>non è stata effettuata, dopo
        l'acquisizione della firma, alcuna operazione di download (via API,
        portale Operatori iscritti, App RENTRI) del file xFIR attraverso <i>GET
        /{numero_fir}/xfir</i>; da parte di alcun soggetto che abbia visibilità
        del FIR</li><li>non è presente a sistema una copia cartacea con lo
        stesso numero FIR restituita dal trasportatore agli altri soggetti
        coinvolti nel FIR</li><li>non è presente a sistema una copia digitale
        con lo stesso numero FIR restituita dal destinatario agli altri soggetti
        coinvolti nel FIR</li></ul>

        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/sosta-tecnica':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Aggiunge sosta tecnica"
      description: >-
        Acquisisce la richiesta per l'aggiunta dei dati di sosta tecnica per il
        formulario indicato.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il soggetto trasportatore che risulta avere 

        in carico il rifiuto.


        Stati del formulario ammessi:

        <ul><li>InserimentoAccettazione</li><li>InserimentoTrasportoSuccessivo</li></ul>

        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: >-
            Numero FIR del formulario a cui si aggiungono i dati di sosta
            tecnica
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati con il dettaglio della sosta
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiSostaTecnicaModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/stato':
    get:
      tags:
        - Formulario digitale
      summary: Stato FIR
      description: Restituisce lo stato del formulario
      parameters:
        - name: numero_fir
          in: path
          description: Numero del FIR per il quale si richiede lo stato
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
      responses:
        '200':
          description: Operazione eseguita con successo.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InfoFormulario'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di parametri richiesti
            non specificati
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita.
        '404':
          description: Formulario non trovato.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/{numero_fir}/trasbordo-parziale':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Aggiunge trasbordo parziale"
      description: >-
        Acquisisce la richiesta per l'aggiunta dei dati di un trasbordo parziale
        per il formulario indicato.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il soggetto trasportatore che risulta avere 

        in carico il rifiuto.


        Stati del formulario ammessi:

        <ul><li>InserimentoAccettazione</li><li>InserimentoTrasportoSuccessivo</li></ul>

        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario a cui si aggiungono i dati del trasbordo
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati con il dettaglio del trasbordo parziale
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiTrasbordoParzialeModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/trasbordo-totale':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Aggiunge trasbordo totale"
      description: >-
        Acquisisce la richiesta per l'aggiunta dei dati di un trasbordo totale
        per il formulario indicato.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il soggetto trasportatore che risulta avere 

        in carico il rifiuto.


        Stati del formulario ammessi:

        <ul><li>InserimentoAccettazione</li><li>InserimentoTrasportoSuccessivo</li></ul>

        Il tipo del trasporto deve essere <b>"Terrestre"</b>.


        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: >-
            Numero FIR del formulario a cui si aggiungono i dati del trasbordo
            totale
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati con il dettaglio del trasbordo totale
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiTrasbordoTotaleModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/trasporto':
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Aggiunge dati trasporto"
      description: >-
        Acquisisce la richiesta di aggiunta dei dati di trasporto del rifiuto da
        parte del trasportatore che ha in carico il FIR specificato.


        L'operazione può essere eseguita da un'utenza che abbia visibilità su (o
        coincida con) il soggetto produttore o il soggetto trasportatore
        iniziale,

        nel caso il formulario non sia ancora stato firmato, oppure il
        trasportatore che effettua la presa in carico del rifiuto dal
        trasportatore precedente.


        Stati del formulario ammessi:

        <ul><li>InserimentoQuantita</li><li>InserimentoQuantitaTrasportoIniziale</li><li>InserimentoTrasportoIniziale</li><li>InserimentoTrasportoSuccessivo</li><li>FirmaProduttoreTrasportatoreIniziale</li><li>FirmaTrasportatoreIniziale
        (per formulario da trasbordo
        parziale)</li><li>FirmaTrasportatoreSuccessivo</li><li>FirmaTrasbordoTotale</li></ul>

        Il tipo di modello passato come contenuto del POST determina la modalità
        del trasporto.


        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Dati di trasporto del rifiuto
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/DatiTrasportoTerrestreModel'
                - $ref: '#/components/schemas/DatiTrasportoMarittimoModel'
                - $ref: '#/components/schemas/DatiTrasportoFerroviarioModel'
              description: Dati del trasporto base
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{numero_fir}/xfir':
    get:
      tags:
        - Formulario digitale
      summary: Download xFIR
      description: >-
        Restituisce il file in formato xFIR che rappresenta il formulario
        specificato con il numero FIR.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) almeno uno dei soggetti coinvolti nel formulario.
      parameters:
        - name: numero_fir
          in: path
          description: Numero FIR del formulario
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
      responses:
        '200':
          description: Operazione eseguita con successo.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownloadableBaseResponse'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di parametri richiesti
            non specificati
        '403':
          description: Operazione non consentita.
        '404':
          description: Formulario non trovato.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Upload xFIR"
      description: >-
        Carica un file xFIR esterno nell'area virtuale di interscambio per
        permetterne l'aggiunta di informazioni e relative firme attraverso le
        API formulari.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) almeno uno dei soggetti coinvolti nel formulario.


        Se non esiste alcun FIR digitale in compilazione con lo stesso numero,
        l'endpoint lo aggiunge all'area virtuale di interscambio permettendone
        l'interazione con queste API.


        Se il file xFIR è già presente nell'area virtuale di interscambio, e le
        informazioni contenute nel file caricato sono compatibili con quelle del
        file xFIR già presente,

        l'endpoint aggiorna il file xFIR con quello caricato. 


        La compatibilità delle nuove informazioni rispetto a quelle
        eventualmente già presenti in area virtuale di interscambio è
        determinata dalla presenza degli stessi dati firmati e degli stessi
        valori per le relative firme crittografiche.


        Il file xFIR inviato deve essere valido secondo le regole definite nella
        <i>Guida tecnica alla compilazione del FIR digitale</i> 

        e verificabile dalla specifica funzione di validazione definita
        dall'endpoint <i>Validazione xFIR</i>.

        Relativamente alle date dichiarate nell'apposizione delle firme presenti
        nel file xFIR, l'esito della validazione deve essere <i>Ok</i> per tutti
        i controlli con codice <i>firmaDataDichiarata</i>.


        In ambiente di <b>PRODUZIONE</b>, la validazione dei controlli con
        codice <i>firmaDataDichiarata</i> sulle date dichiarate di firma
        presenti nei file XAdES dell'xFIR 

        avrà esito positivo solo con date successive alle ore 00:00 del giorno
        13/02/2026.


        In caso esista una copia del FIR digitale già restituita con
        accettazione totale del rifiuto, l'operazione non è consentita.


        La dimensione massima accettata del file xFIR è 3 MB.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: >-
            Numero FIR del formulario, deve coincidere con quello deducibile
            dalle informazioni presenti nel file xFIR
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Oggetto contenente il contenuto del file xFIR da caricare
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/UploadXfirModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: >-
            Almeno una delle entità specificate nel modello o tra i parametri
            non è stata trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoUploadXfirResultModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/{transazione_id}/result':
    get:
      summary: Esito transazione
      description: >-
        Ottiene l'esito dell'elaborazione di una richiesta di elaborazione per
        un formulario.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Esito dell'elaborazione con eventuali errori
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EsitoFormularioModel'
        '400':
          description: Richiesta non ancora elaborata
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: Richiesta non trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/{transazione_id}/status':
    get:
      summary: Stato transazione
      description: >-
        Ottiene lo stato di elaborazione di una richiesta di elaborazione per un
        formulario.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta.
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Richiesta non ancora elaborata
        '303':
          description: >-
            La richiesta è stata elaborata e l'URL per il recupero dell'esito si
            trova nell'header Location
          headers:
            Location:
              description: URL per verificare lo stato dell'elaborazione.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: L'Id della transazione specificata non è stata trovato
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-cartacea/{transazione_id}/result':
    get:
      tags:
        - Copia FIR cartaceo
      summary: '⚠️[DEPRECATO] - utilizzare /{transazioneId}/result - Esito transazione'
      description: Ottiene l'esito dell'elaborazione di una richiesta asincrona.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Esito dell'elaborazione con eventuali errori.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EsitoCopiaCartaceaModel'
        '400':
          description: Richiesta non ancora elaborata.
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita.
        '404':
          description: Richiesta non trovata.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/copia-cartacea/{transazione_id}/status':
    get:
      tags:
        - Copia FIR cartaceo
      summary: '⚠️[DEPRECATO] - utilizzare /{transazioneId}/status - Stato transazione'
      description: Ottiene lo stato di elaborazione di una richiesta di vidimazione FIR.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Richiesta non ancora elaborata.
        '303':
          description: >-
            La richiesta è stata elaborata e l'URL per il recupero dell'esito si
            trova nell'header Location.
          headers:
            Location:
              description: URL per verificare lo stato dell'elaborazione.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita.
        '404':
          description: Richiesta non trovata.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/copia-cartacea/caricamento/{num_iscr_sito}':
    post:
      tags:
        - Copia FIR cartaceo
      summary: "\U0001F501[ASYNC] Carica copia FIR cartaceo"
      description: >-
        Acquisisce la richiesta di restituzione della copia del FIR cartaceo che
        consente al Trasportatore di renderla disponibile ai soggetti
        specificati.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.



        Il file caricato deve essere in uno dei seguenti formati: PDF, JPG,
        PNG. 

        Il file non deve superare la dimensione di 5 MB.

        <br/>Se viene specificato un URL nell'header <i>X-ReplyTo</i>, al
        termine dell'elaborazione dei dati, il fruitore riceverà una notifica
        con l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del trasportatore che carica la copia
            del FIR cartaceo.

            Per recuperare i numeri di iscrizione attribuiti alle unità locali è
            possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback opzionale alla quale verrà inviata la notifica di
            fine elaborazione
          schema:
            type: string
      requestBody:
        description: >-
          Dati relativi alla copia del FIR cartaceo e ai soggetti a cui la si
          rende disponibile
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CopiaCartaceaModel'
        required: true
      responses:
        '202':
          description: Accepted
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoCopiaCartaceaModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
    get:
      tags:
        - Copia FIR cartaceo
      summary: Elenco copie FIR cartaceo caricate
      description: >-
        Ottiene la lista delle copie dei FIR cartacei caricate dall'unità locale
        del trasportatore.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del trasportatore che ha caricato le
            copie dei FIR cartacei
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
        - name: numero_fir
          in: query
          description: >-
            Pattern per filtrare i numeri delle copie dei FIR cartacei da
            restituire
          schema:
            type: string
        - name: confermate
          in: query
          description: >-
            Opzione per filtrare solo le copie dei FIR cartacei confermate o
            solo quelle non confermate, non specificare il valore per averle
            tutte
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CopiaCartaceaResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-cartacea/caricamento/{num_iscr_sito}/{identificativo}':
    get:
      tags:
        - Copia FIR cartaceo
      summary: Dettaglio copia FIR cartaceo
      description: >-
        Recupera le informazioni di dettaglio del caricamento della copia del
        FIR cartaceo specificata.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del trasportatore che ha caricato la
            copia del FIR cartaceo
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: Identificativo della copia del FIR cartaceo
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CopiaCartaceaResult'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    delete:
      tags:
        - Copia FIR cartaceo
      summary: Cancella copia FIR cartaceo
      description: >-
        Elimina il caricamento della copia del FIR cartaceo.

        L'operazione è possibile solo se nessuno dei soggetti a cui è stata resa
        disponibile la copia del FIR cartaceo l'ha già presa in carico con
        l'operazione di conferma.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del trasportatore che ha caricato la
            copia del FIR cartaceo.
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: Identificativo della copia del FIR cartaceo da cancellare
          required: true
          schema:
            type: string
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-cartacea/caricamento/{num_iscr_sito}/{identificativo}/documento':
    get:
      tags:
        - Copia FIR cartaceo
      summary: Documento copia FIR cartaceo
      description: Restituisce il file contenente la copia del FIR cartaceo caricata.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del trasportatore che ha caricato la
            copia del FIR cartaceo.
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: >-
            Identificativo della copia del FIR cartaceo della quale restituire
            il documento caricato
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownloadableBaseResponse'
        '204':
          description: No Content
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-cartacea/conferma/{identificativo_soggetto}':
    get:
      tags:
        - Copia FIR cartaceo
      summary: Copie FIR cartacei disponibili
      description: >-
        Ottiene la lista delle copie dei FIR cartacei, disponibili per la
        conferma o già confermati, per il soggetto specificato.
      parameters:
        - name: identificativo_soggetto
          in: path
          description: >-
            Codice fiscale del soggetto per cui richiedere l'elenco delle copie
            dei FIR cartacei disponibili
          required: true
          schema:
            type: string
        - name: numero_fir
          in: query
          description: Numero FIR della copia del FIR cartaceo
          schema:
            type: string
        - name: confermate
          in: query
          description: Filtra le copie dei FIR digitali confermate o non confermate.
          schema:
            type: boolean
        - name: data_emissione_da
          in: query
          description: >-
            Data di emissione a partire dalla quale si richiedono le copie dei
            FIR digitali (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_emissione_a
          in: query
          description: >-
            Data massima di emissione entro la quale si richiedono le copie dei
            FIR digitali (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: num_iscr_sito
          in: query
          description: >-
            Eventuale numero di iscrizione dell'unità locale per la quale si
            richiedono le copie cartacee dei FIR.

            Se non indicato ma si richiedono le sole copie cartacee confermate,
            verranno restituite solo le copie cartacee che sono state confermate
            senza essere associate ad alcuna unità locale
          schema:
            type: string
        - name: ruolo
          in: query
          description: >-
            Specifica il ruolo per cui si richiedono le copie cartacee dei FIR. 

            Se non indicato ma si indica una unità locale, vengono considerati
            tutti i ruoli associati all'unità locale specificata.
          schema:
            allOf:
              - $ref: '#/components/schemas/RuoloConfermaCopiaCartacea'
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
      responses:
        '200':
          description: OK
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CopiaCartaceaResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    put:
      tags:
        - Copia FIR cartaceo
      summary: Conferma copia FIR cartaceo disponibile
      description: >-
        Pone in stato "confermata" la copia del FIR cartaceo specificata
        associandola all'unità locale specificata.
      parameters:
        - name: identificativo_soggetto
          in: path
          description: >-
            Codice fiscale del soggetto per il quale si conferma la copia del
            FIR cartaceo
          required: true
          schema:
            type: string
      requestBody:
        description: >-
          Struttura dati contenente l'identificativo della copia del FIR
          cartaceo e l'eventuale identificativo dell'unità locale a cui
          associare la conferma
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CopiaCartaceaConfermaModel'
        required: true
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-cartacea/conferma/{identificativo_soggetto}/{identificativo}':
    get:
      tags:
        - Copia FIR cartaceo
      summary: Dettaglio copia FIR cartaceo disponibile
      description: >-
        Restituisce il dettaglio dei dati di caricamento della copia del FIR
        cartaceo caricata dal trasportatore.
      parameters:
        - name: identificativo_soggetto
          in: path
          description: >-
            Codice fiscale del soggetto a cui è resa disponibile la copia del
            FIR cartaceo
          required: true
          schema:
            type: string
        - name: identificativo
          in: path
          description: >-
            Identificativo della copia del FIR cartaceo per cui vengono
            richieste le informazioni di dettaglio
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CopiaCartaceaResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-cartacea/conferma/{identificativo_soggetto}/{identificativo}/documento':
    get:
      tags:
        - Copia FIR cartaceo
      summary: Documento copia FIR cartaceo disponibile
      description: >-
        Restituisce il documento della copia del FIR cartaceo specificata
        caricata dal trasportatore.
      parameters:
        - name: identificativo_soggetto
          in: path
          description: >-
            Codice fiscale del soggetto per il quale si richiede il documento
            della copia del FIR cartaceo
          required: true
          schema:
            type: string
        - name: identificativo
          in: path
          description: >-
            Identificativo della copia del FIR cartaceo caricata dal
            trasportatore
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownloadableBaseResponse'
        '204':
          description: No Content
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-digitale/{transazione_id}/result':
    get:
      tags:
        - Copia FIR digitale
      summary: '⚠️[DEPRECATO] - utilizzare /{transazioneId}/result - Esito transazione'
      description: Ottiene l'esito dell'elaborazione di una richiesta asincrona.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Esito dell'elaborazione con eventuali errori.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EsitoCopiaDigitaleModel'
        '400':
          description: Richiesta non ancora elaborata.
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita.
        '404':
          description: Richiesta non trovata.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/copia-digitale/{transazione_id}/status':
    get:
      tags:
        - Copia FIR digitale
      summary: '⚠️[DEPRECATO] - utilizzare /{transazioneId}/status - Stato transazione'
      description: >-
        Ottiene lo stato di elaborazione di una richiesta di caricamento di una
        copia di un FIR digitale.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Richiesta non ancora elaborata.
        '303':
          description: >-
            La richiesta è stata elaborata e l'URL per il recupero dell'esito si
            trova nell'header Location.
          headers:
            Location:
              description: URL per verificare lo stato dell'elaborazione.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita.
        '404':
          description: Richiesta non trovata.
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/copia-digitale/caricamento/{numero_fir}':
    post:
      tags:
        - Copia FIR digitale
      summary: "\U0001F501[ASYNC] Carica copia FIR digitale"
      description: >-
        Acquisisce la richiesta di chiusura del ciclo di vita del FIR mediante
        invio, da parte del destinatario del formulario,

        del file xFIR che ne contiene le informazioni.


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto operatore a cui afferisce il numero di
        iscrizione dell'unità locale indicato nel parametro
        <b>num_iscr_sito</b>.


        L'unità locale specificata nel parametro <b>num_iscr_sito</b> deve
        essere iscritta con attività di <i>Recupero</i> o <i>Smaltimento</i> o
        <i>Centro di raccolta</i>

        e deve risultare come il soggetto destinatario del formulario.


        Il formulario caricato deve essere nello stato <i>Accettato</i> o
        <i>RespintoAccettatoParzialmente</i>.


        Il file xFIR inviato deve essere valido secondo le regole definite nella
        <i>Guida tecnica alla compilazione del FIR digitale</i> 

        e verificabile dalla specifica funzione di validazione definita
        dall'endpoint <i>Validazione xFIR</i> delle API "Formulario digitale".


        La dimensione massima accettata del file xFIR è 3 MB.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.

        <br/>Se viene specificato un URL nell'header <i>X-ReplyTo</i>, al
        termine dell'elaborazione dei dati, il fruitore riceverà una notifica
        con l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: numero_fir
          in: path
          description: Numero del FIR incluso nel file xFIR
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Oggetto contenente il contenuto del file xFIR
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/CopiaDigitaleModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoCopiaDigitaleModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
        Callback di notifica verso i soggetti indicati nel formulario:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche al produttore, ai trasportatori e agli intermediari
                indicati nel formulario digitale, al termine del caricamento
                della relativa copia digitale
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: >-
                        #/components/schemas/DatiNotificaPushCaricaCopiaDigitaleModel
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/copia-digitale/caricamento/{num_iscr_sito}':
    get:
      tags:
        - Copia FIR digitale
      summary: Copie FIR digitali caricate
      description: >-
        Ottiene la lista delle copie dei FIR digitali caricate dal destinatario
        e rese disponibili agli altri soggetti del FIR.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del destinatario che ha caricato le
            copie dei FIR digitali
          required: true
          schema:
            type: string
        - name: numero_fir
          in: query
          description: Numero FIR della copia del FIR digitale
          schema:
            type: string
        - name: tipo_accettazione
          in: query
          description: >-
            Filtra le copia dei FIR digitali per tipo di accettazione del
            destinatario
          schema:
            allOf:
              - $ref: '#/components/schemas/TipiAccettazione'
        - name: confermate
          in: query
          description: Filtra le copie dei FIR digitali confermate o non confermate.
          schema:
            type: boolean
        - name: comune_id
          in: query
          description: |-
            Filtra le copie dei FIR digitali per il comune.
            Il valore viene considerato solo per il ruolo di produttore
          schema:
            type: string
        - name: data_emissione_da
          in: query
          description: >-
            Data di emissione a partire dalla quale si richiedono le copie dei
            FIR digitali (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_emissione_a
          in: query
          description: >-
            Data massima di emissione entro la quale si richiedono le copie dei
            FIR digitali (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: codice_eer
          in: query
          description: Filta le copie digiitali dei FIR per il codice EER del rifiuto
          schema:
            maxLength: 8
            type: string
        - name: ruolo
          in: query
          description: >-
            Ruolo per il quale si richiedono le copie dei FIR digitali da
            confermare
          schema:
            allOf:
              - $ref: '#/components/schemas/RuoloConfermaCopiaDigitale'
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
      responses:
        '200':
          description: OK
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CopiaDigitaleItemResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-digitale/caricamento/{num_iscr_sito}/{identificativo}':
    get:
      tags:
        - Copia FIR digitale
      summary: Dettaglio copia FIR digitale
      description: >-
        Recupera le informazioni di dettaglio del caricamento della copia del
        FIR digitale.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del destinatario che ha caricato la
            copia del FIR digitale.
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: Identificativo della copia del FIR digitale
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CopiaDigitaleResult'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    delete:
      tags:
        - Copia FIR digitale
      summary: Cancella copia FIR digitale
      description: >-
        Elimina il caricamento della copia del FIR digitale.

        L'operazione è possibile solo se nessuno dei soggetti a cui è stata resa
        disponibile la copia del FIR digitale ne ha già preso visione con
        l'operazione di conferma.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del destinatario che ha caricato la
            copia del FIR digitale.
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: Identificativo della copia del FIR digitale da cancellare
          required: true
          schema:
            type: string
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-digitale/caricamento/{num_iscr_sito}/{identificativo}/documento':
    get:
      tags:
        - Copia FIR digitale
      summary: Documento copia FIR digitale
      description: >-
        Restituisce il file xFIR precedentemente caricato dal destinatario
        stesso.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del destinatario che ha caricato la
            copia del FIR digitale.
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: >-
            Identificativo della copia del FIR digitale della quale restituire
            il documento caricato
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownloadableBaseResponse'
        '204':
          description: No Content
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-digitale/conferma/{identificativo_soggetto}':
    get:
      tags:
        - Copia FIR digitale
      summary: Copie FIR digitali disponibili
      description: >-
        Ottiene la lista delle copie dei FIR digitali, disponibili per la
        conferma o già confermati, per il soggetto specificato.
      parameters:
        - name: identificativo_soggetto
          in: path
          description: >-
            Codice fiscale del soggetto per cui richiedere l'elenco delle copie
            dei FIR digitali disponibili
          required: true
          schema:
            type: string
        - name: num_iscr_sito
          in: query
          description: >-
            Eventuale numero di iscrizione dell'unità locale per la quale si
            richiedono le copie dei FIR digitali
          schema:
            type: string
        - name: numero_fir
          in: query
          description: Numero FIR della copia del FIR digitale
          schema:
            type: string
        - name: tipo_accettazione
          in: query
          description: >-
            Filtra le copia dei FIR digitali per tipo di accettazione del
            destinatario
          schema:
            allOf:
              - $ref: '#/components/schemas/TipiAccettazione'
        - name: confermate
          in: query
          description: Filtra le copie dei FIR digitali confermate o non confermate.
          schema:
            type: boolean
        - name: comune_id
          in: query
          description: |-
            Filtra le copie dei FIR digitali per il comune.
            Il valore viene considerato solo per il ruolo di produttore
          schema:
            type: string
        - name: data_emissione_da
          in: query
          description: >-
            Data di emissione a partire dalla quale si richiedono le copie dei
            FIR digitali (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_emissione_a
          in: query
          description: >-
            Data massima di emissione entro la quale si richiedono le copie dei
            FIR digitali (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: codice_eer
          in: query
          description: Filta le copie digiitali dei FIR per il codice EER del rifiuto
          schema:
            maxLength: 8
            type: string
        - name: ruolo
          in: query
          description: >-
            Ruolo per il quale si richiedono le copie dei FIR digitali da
            confermare
          schema:
            allOf:
              - $ref: '#/components/schemas/RuoloConfermaCopiaDigitale'
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
      responses:
        '200':
          description: OK
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CopiaDigitaleItemResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-digitale/conferma/{identificativo_soggetto}/{identificativo}':
    get:
      tags:
        - Copia FIR digitale
      summary: Dettaglio copia digitale FIR disponibile
      description: >-
        Restituisce il dettaglio dei dati di caricamento della copia digitale
        del FIR caricata.
      parameters:
        - name: identificativo_soggetto
          in: path
          description: >-
            Codice fiscale del soggetto a cui è resa disponibile la copia del
            FIR digitale
          required: true
          schema:
            type: string
        - name: identificativo
          in: path
          description: >-
            Identificativo della copia del FIR digitale per cui vengono
            richieste le informazioni di dettaglio
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CopiaDigitaleResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-digitale/conferma/{identificativo_soggetto}/{identificativo}/documento':
    get:
      tags:
        - Copia FIR digitale
      summary: Documento copia FIR digitale disponibile
      description: >-
        Restituisce il file xFIR che rappresenta la copia del FIR digitale
        caricata dal destinatario.
      parameters:
        - name: identificativo_soggetto
          in: path
          description: >-
            Codice fiscale del soggetto per il quale si richiede il documento
            della copia del FIR digitale
          required: true
          schema:
            type: string
        - name: identificativo
          in: path
          description: >-
            Identificativo della copia del FIR digitale caricata dal
            destinatario
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DownloadableBaseResponse'
        '204':
          description: No Content
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/copia-digitale/conferma/{num_iscr_sito}/{identificativo}':
    put:
      tags:
        - Copia FIR digitale
      summary: Conferma copia FIR digitale disponibile
      description: >-
        Permette al soggetto a cui è stata resa disponibile la copia del FIR
        digitale di impostarne la stato di presa visione.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione unità locale del soggetto che conferma la presa
            visione della copia del FIR digitale.
                        Per recuperare i numeri di iscrizione attribuiti alle unità locali è possibile utilizzare /anagrafiche/v1.0/operatore/{num_iscr}/siti.
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: >-
            Identificativo della copia del FIR digitale della quale restituire
            il file xFIR caricato
          required: true
          schema:
            type: string
        - name: ruolo
          in: query
          description: >-
            Ruolo all'interno del FIR del soggetto per cui si effettua
            l'operazione di conferma di presa visione. 
                        In caso di ambiguità (lo stesso soggetto a cui si riferisce l'unità locale "numIscrSito" appare con più ruoli all'interno del FIR) il parametro è obbligatorio
          schema:
            allOf:
              - $ref: '#/components/schemas/RuoloConfermaCopiaDigitale'
        - name: respingi
          in: query
          description: >-
            Se valorizzato a true annulla una eventuale precedente operazione di
            presa visione per i parametri specificati
          schema:
            type: boolean
      responses:
        '204':
          description: No Content
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  /count:
    get:
      tags:
        - Formulario digitale
      summary: Conteggio formulari
      description: >-
        Ottiene il conteggio dei formulari digitali con visibilità per l'unità
        locale indicata e con i filtri specificati.
      parameters:
        - name: num_iscr_sito
          in: query
          description: >-
            Numero iscrizione unità locale rilasciato all'iscrizione per il
            quale si richiedono i formulari.

            Il dato deve essere valorizzato in assenza di un valore per la
            proprietà "identificativo_soggetto".
          schema:
            type: string
        - name: identificativo_soggetto
          in: query
          description: >-
            Identificativo del soggetto.

            Quando viene specificato vengono restituiti tutti i FIR digitali nei
            quali il valore specificato 

            coincide con il codice fiscale di uno dei soggetti indicati,
            indipendentemente dallo specifico ruolo 

            e indipendentemente dall'aver acquisito la visibilità del FIR
            digitale in una specifica Unità Locale.

            Il dato deve essere valorizzato in assenza di un valore per la
            proprietà "num_iscr_sito".
          schema:
            type: string
        - name: solo_senza_visibilita_siti
          in: query
          description: >-
            Se valorizzata a true, quando viene valorizzata la proprietà
            "identificativo_soggetto" esclude dalla lista restituita 

            i FIR per cui esiste già visibilità per almeno un'unità locale
            riconducibile al soggetto stesso.
          schema:
            type: boolean
        - name: numero_fir
          in: query
          description: Numero del FIR
          schema:
            type: string
        - name: codice_blocco
          in: query
          description: Codice blocco del FIR
          schema:
            type: string
        - name: data_creazione_da
          in: query
          description: >-
            Data di creazione a partire dalla quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_creazione_a
          in: query
          description: >-
            Data massima di creazione per la quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_emissione_da
          in: query
          description: >-
            Data di emissione a partire dalla quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: data_emissione_a
          in: query
          description: >-
            Data massima di emissione entro la quale si richiedono i formulari
            (formato ISO 8601 UTC)
          schema:
            type: string
            format: date-time
        - name: codice_eer
          in: query
          description: Codice EER
          schema:
            maxLength: 8
            type: string
        - name: stati
          in: query
          schema:
            type: array
            items:
              type: string
      responses:
        '200':
          description: >-
            Conteggio dei formulari corrispondenti ai criteri di ricerca
            specificati.
          content:
            application/json:
              schema:
                type: integer
                format: int32
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di parametri richiesti
            non specificati
        '403':
          description: Operazione non consentita sul Registro.
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza).
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  /status:
    get:
      summary: Stato API
      description: Verifica dello stato dell'API.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatusResponse'
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '503':
          description: Service Unavailable
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/trasmissioni/{num_iscr_sito}':
    get:
      tags:
        - Trasmissione dati operatore
      summary: >-
        ⚠️[DEPRECATO] - utilizzare /trasmissioni/operatore/{numIscrSito} -
        Trasmissioni effettuate
      description: >-
        Ottiene la lista delle trasmissioni di dati di FIR digitali effettuate
        per l'unità locale specificata.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione dell'unità locale per cui si vogliono recuperare
            le trasmissioni
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: numero_fir
          in: query
          description: Numero del FIR oggetto della trasmissione
          schema:
            type: string
        - name: data_trasmissione_da
          in: query
          description: Formato ISO 8601 UTC
          schema:
            type: string
            format: date-time
        - name: data_trasmissione_a
          in: query
          description: Formato ISO 8601 UTC
          schema:
            type: string
            format: date-time
        - name: codice_eer
          in: query
          description: >-
            Codice EER del rifiuto indicati nei formulari oggetto della
            trasmissione FIR da elencare
          schema:
            type: string
        - name: tipo
          in: query
          description: Tipo di trasmissione
          schema:
            allOf:
              - $ref: '#/components/schemas/TipoTrasmissione'
        - name: stato
          in: query
          description: Stato della trasmissione
          schema:
            allOf:
              - $ref: '#/components/schemas/StatiTrasmissioneDati'
        - name: includi_trasportatore_per_conto_produttore
          in: query
          description: >-
            Indica se includere nella ricerca anche le eventuali trasmissioni
            effettuate dall'operatore indicato nel parametro di rottta
            <i>numIscrSito</i>

            in qualità di primo trasportatore per conto del produttore del
            rifiuto
          schema:
            type: boolean
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
      responses:
        '200':
          description: OK
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TrasmissioneDatiItemResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
    post:
      tags:
        - Trasmissione dati operatore
      summary: >-
        ⚠️[DEPRECATO] - utilizzare /trasmissioni/operatore/{numIscrSito} -
        Trasmette i dati del FIR digitale
      description: >-
        Effettua la trasmissione dei dati estratti da un FIR digitale riferibile
        all'unità locale specificata in <b>num_iscr_sito</b>. 


        L'operazione può essere richiesta solo da un'utenza che abbia incarichi
        per (o coincida con) il soggetto operatore a cui afferisce il numero di
        iscrizione dell'unità locale indicato nel parametro
        <b>num_iscr_sito</b>.

        Tale soggetto deve essere uno dei soggetti coinvolti nel formulario che
        viene trasmesso.


        Se viene specificato il parametro <b>num_iscr_sito_produttore</b>,
        l'operazione di trasmissione è intesa come effettuata dal trasportatore
        per conto del produttore, 

        il cui numero di iscrizione dell'unità locale deve essere indicato come
        valore di questo parametro. 

        In questo caso viene varificato che <b>num_iscr_sito</b> afferisca al
        soggetto indicato come primo trasportatore nel modello dati di input, e
        <b>num_iscr_sito_produttore</b> afferisca al soggetto indicato come
        produttore.

        La trasmissione dei dati del FIR digitale effettuata dal trasportatore
        per conto del produttore è possibile solo se il numero FIR è stato
        vidimato al soggetto trasportatore.


        È possibile trasmettere più volte i dati dello stesso formulario
        relativamente ad una stessa unità locale. 

        In caso di trasmissioni ripetute per numero FIR e unità locale, l'ultima
        trasmissione dati effettuata in ordine temporale annulla e sostituisce
        le precedenti
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero di iscrizione dell'unità locale dell'operatore che effettua
            la trasmissione
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: num_iscr_sito_produttore
          in: query
          description: >-
            Eventuale numero di iscrizione dell'unità locale del produttore per
            il quale il trasportatore effettua la trasmissione dati
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
      requestBody:
        description: Dati del FIR digitale trasmessi
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiTrasmissioneFormularioModel'
        required: true
      responses:
        '201':
          description: Created
          headers:
            Location:
              description: URL per verificare lo stato dell'elaborazione.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrasmissioneFormularioResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/trasmissioni/{num_iscr_sito}/{identificativo}':
    get:
      tags:
        - Trasmissione dati operatore
      summary: >-
        ⚠️[DEPRECATO] - utilizzare
        /trasmissioni/operatore/{numIscrSito}/{identificativo} - Dettaglio
        trasmissione
      description: >-
        Recupera le informazioni di dettaglio della trasmissione di dati di FIR
        digitale corrispondente all'identificativo specificato
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione dell'unità locale per cui si vogliono recuperare
            le trasmissioni
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: Identificativo della trasmissione
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrasmissioneDatiResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/trasmissioni/{num_iscr_sito}/{identificativo}/annulla':
    post:
      tags:
        - Trasmissione dati operatore
      summary: >-
        ⚠️[DEPRECATO] - utilizzare
        public/trasmissioni/operatore/{numIscrSito}/{identificativo}/annulla -
        Annulla trasmissione di dati del FIR digitale
      description: >-
        Pone in stato "annullata" la trasmissione di dati del FIR digitale
        specificata.


        L'operazione non è reversibile.
      parameters:
        - name: num_iscr_sito
          in: path
          description: ''
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: ''
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/trasmissioni/{num_iscr_sito}/{numero_fir}/estrai':
    post:
      tags:
        - Trasmissione dati operatore
      summary: "\U0001F501[ASYNC] ⚠️[DEPRECATO] - utilizzare /trasmissioni/operatore/{numIscrSito}/{numeroFir}/estrai - Estrazione dati per FIR digitale"
      description: >-
        Effettua l'estrazione dei dati che devono essere trasmessi dal file del
        FIR digitale che viene specificato tra i dati della richiesta. 


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto operatore a cui afferisce il numero di
        iscrizione dell'unità locale indicato nel parametro
        <b>num_iscr_sito</b>.


        Il file xFIR inviato deve essere valido secondo le regole definite nella
        <i>Guida tecnica alla compilazione del FIR digitale</i> 

        e verificabile dalla specifica funzione di validazione definita
        dall'endpoint <i>Validazione xFIR</i> delle API "Formulario digitale".


        Il file xFIR non deve contenere dati pertinenti al formulario non
        firmati digitalmente. 


        La dimensione massima accettata del file xFIR da cui estrarre i dati è 3
        MB.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: num_iscr_sito
          in: path
          description: ''
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: numero_fir
          in: path
          description: ''
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: ''
          schema:
            type: string
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/EstraiDatiXfirModel'
        required: true
      responses:
        '202':
          description: Accepted
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoEstrazioneDatiXfirModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
      deprecated: true
  '/trasmissioni/{transazione_id}/result':
    get:
      tags:
        - Trasmissione dati operatore
      summary: '⚠️[DEPRECATO] - utilizzare /{transazioneId}/result - Esito transazione'
      description: >-
        Ottiene l'esito dell'elaborazione di una richiesta di elaborazione per
        un formulario.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Esito dell'elaborazione con eventuali errori
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EsitoTrasmissioneDatiModel'
        '400':
          description: Richiesta non ancora elaborata
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: Richiesta non trovata
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/trasmissioni/{transazione_id}/status':
    get:
      tags:
        - Trasmissione dati operatore
      summary: '⚠️[DEPRECATO] - utilizzare /{transazioneId}/status - Stato transazione'
      description: >-
        Ottiene lo stato di elaborazione di una richiesta di elaborazione per un
        formulario.
      parameters:
        - name: transazione_id
          in: path
          description: Id della richiesta.
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Richiesta non ancora elaborata
        '303':
          description: >-
            La richiesta è stata elaborata e l'URL per il recupero dell'esito si
            trova nell'header Location
          headers:
            Location:
              description: URL per verificare lo stato dell'elaborazione.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Operazione non consentita
        '404':
          description: L'Id della transazione specificata non è stata trovato
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      deprecated: true
  '/trasmissioni/operatore/{num_iscr_sito}':
    get:
      tags:
        - Trasmissione dati operatore
      summary: Trasmissioni effettuate
      description: >-
        Ottiene la lista delle trasmissioni di dati di FIR digitali effettuate
        per l'unità locale specificata.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione dell'unità locale per cui si vogliono recuperare
            le trasmissioni
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: numero_fir
          in: query
          description: Numero del FIR oggetto della trasmissione
          schema:
            type: string
        - name: data_trasmissione_da
          in: query
          description: Formato ISO 8601 UTC
          schema:
            type: string
            format: date-time
        - name: data_trasmissione_a
          in: query
          description: Formato ISO 8601 UTC
          schema:
            type: string
            format: date-time
        - name: codice_eer
          in: query
          description: >-
            Codice EER del rifiuto indicati nei formulari oggetto della
            trasmissione FIR da elencare
          schema:
            type: string
        - name: tipo
          in: query
          description: Tipo di trasmissione
          schema:
            allOf:
              - $ref: '#/components/schemas/TipoTrasmissione'
        - name: stato
          in: query
          description: Stato della trasmissione
          schema:
            allOf:
              - $ref: '#/components/schemas/StatiTrasmissioneDati'
        - name: includi_trasportatore_per_conto_produttore
          in: query
          description: >-
            Indica se includere nella ricerca anche le eventuali trasmissioni
            effettuate dall'operatore indicato nel parametro di rottta
            <i>numIscrSito</i>

            in qualità di primo trasportatore per conto del produttore del
            rifiuto
          schema:
            type: boolean
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
      responses:
        '200':
          description: OK
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TrasmissioneDatiItemResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    post:
      tags:
        - Trasmissione dati operatore
      summary: Trasmette i dati del FIR digitale
      description: >-
        Effettua la trasmissione dei dati estratti da un FIR digitale riferibile
        all'unità locale specificata in <b>num_iscr_sito</b>. 


        L'operazione può essere richiesta solo da un'utenza che abbia incarichi
        per (o coincida con) il soggetto operatore a cui afferisce il numero di
        iscrizione dell'unità locale indicato nel parametro
        <b>num_iscr_sito</b>.

        Tale soggetto deve essere uno dei soggetti coinvolti nel formulario che
        viene trasmesso.


        Se viene specificato il parametro <b>num_iscr_sito_produttore</b>,
        l'operazione di trasmissione è intesa come effettuata dal trasportatore
        per conto del produttore, 

        il cui numero di iscrizione dell'unità locale deve essere indicato come
        valore di questo parametro. 

        In questo caso viene varificato che <b>num_iscr_sito</b> afferisca al
        soggetto indicato come primo trasportatore nel modello dati di input, e
        <b>num_iscr_sito_produttore</b> afferisca al soggetto indicato come
        produttore.

        La trasmissione dei dati del FIR digitale effettuata dal trasportatore
        per conto del produttore è possibile solo se il numero FIR è stato
        vidimato al soggetto trasportatore.


        È possibile trasmettere più volte i dati dello stesso formulario
        relativamente ad una stessa unità locale. 

        In caso di trasmissioni ripetute per numero FIR e unità locale, l'ultima
        trasmissione dati effettuata in ordine temporale annulla e sostituisce
        le precedenti
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero di iscrizione dell'unità locale dell'operatore che effettua
            la trasmissione
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: num_iscr_sito_produttore
          in: query
          description: >-
            Eventuale numero di iscrizione dell'unità locale del produttore per
            il quale il trasportatore effettua la trasmissione dati
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
      requestBody:
        description: Dati del FIR digitale trasmessi
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiTrasmissioneFormularioModel'
        required: true
      responses:
        '201':
          description: Created
          headers:
            Location:
              description: URL per verificare lo stato dell'elaborazione.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrasmissioneFormularioResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/trasmissioni/operatore/{num_iscr_sito}/{identificativo}':
    get:
      tags:
        - Trasmissione dati operatore
      summary: Dettaglio trasmissione
      description: >-
        Recupera le informazioni di dettaglio della trasmissione di dati di FIR
        digitale corrispondente all'identificativo specificato
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione dell'unità locale per cui si vogliono recuperare
            le trasmissioni
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: Identificativo della trasmissione
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrasmissioneDatiResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/trasmissioni/operatore/{num_iscr_sito}/{identificativo}/annulla':
    delete:
      tags:
        - Trasmissione dati operatore
      summary: Annulla trasmissione di dati del FIR digitale
      description: >-
        Pone in stato "annullata" la trasmissione di dati del FIR digitale
        specificata.


        L'operazione non è reversibile.
      parameters:
        - name: num_iscr_sito
          in: path
          description: ''
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: ''
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/trasmissioni/operatore/{num_iscr_sito}/{numero_fir}/estrai':
    post:
      tags:
        - Trasmissione dati operatore
      summary: "\U0001F501[ASYNC] Estrazione dati per FIR digitale"
      description: >-
        Effettua l'estrazione dei dati che devono essere trasmessi dal file del
        FIR digitale che viene specificato tra i dati della richiesta. 


        L'operazione può essere eseguita da un'utenza che abbia incarichi per (o
        coincida con) il soggetto operatore a cui afferisce il numero di
        iscrizione dell'unità locale indicato nel parametro
        <b>num_iscr_sito</b>.


        Il file xFIR inviato deve essere valido secondo le regole definite nella
        <i>Guida tecnica alla compilazione del FIR digitale</i> 

        e verificabile dalla specifica funzione di validazione definita
        dall'endpoint <i>Validazione xFIR</i> delle API "Formulario digitale".


        Il file xFIR non deve contenere dati pertinenti al formulario non
        firmati digitalmente. 


        La dimensione massima accettata del file xFIR da cui estrarre i dati è 3
        MB.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: num_iscr_sito
          in: path
          description: ''
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: numero_fir
          in: path
          description: ''
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: ''
          schema:
            type: string
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/EstraiDatiXfirModel'
        required: true
      responses:
        '202':
          description: Accepted
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoEstrazioneDatiXfirModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  '/trasmissioni/soggetto-delegato/{num_iscr_sito}':
    get:
      tags:
        - Trasmissione dati soggetto delegato
      summary: Trasmissioni effettuate
      description: >-
        Ottiene la lista delle trasmissioni di dati di FIR digitali effettuate
        per l'unità locale specificata.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione dell'unità locale per cui si vogliono recuperare
            le trasmissioni
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: numero_fir
          in: query
          description: Numero del FIR oggetto della trasmissione
          schema:
            type: string
        - name: data_trasmissione_da
          in: query
          description: Formato ISO 8601 UTC
          schema:
            type: string
            format: date-time
        - name: data_trasmissione_a
          in: query
          description: Formato ISO 8601 UTC
          schema:
            type: string
            format: date-time
        - name: codice_eer
          in: query
          description: >-
            Codice EER del rifiuto indicati nei formulari oggetto della
            trasmissione FIR da elencare
          schema:
            type: string
        - name: tipo
          in: query
          description: Tipo di trasmissione
          schema:
            allOf:
              - $ref: '#/components/schemas/TipoTrasmissione'
        - name: stato
          in: query
          description: Stato della trasmissione
          schema:
            allOf:
              - $ref: '#/components/schemas/StatiTrasmissioneDati'
        - name: includi_trasportatore_per_conto_produttore
          in: query
          description: >-
            Indica se includere nella ricerca anche le eventuali trasmissioni
            effettuate dall'operatore indicato nel parametro di rottta
            <i>numIscrSito</i>

            in qualità di primo trasportatore per conto del produttore del
            rifiuto
          schema:
            type: boolean
        - name: Paging-Page
          in: header
          description: Valore per l'header Paging-Page
          schema:
            maximum: 2147483647
            minimum: 1
            type: integer
            format: int32
            default: 1
        - name: Paging-PageSize
          in: header
          description: Valore per l'header Paging-PageSize
          schema:
            maximum: 1000
            minimum: 1
            type: integer
            format: int32
            default: 100
      responses:
        '200':
          description: OK
          headers:
            Paging-PageCount:
              description: Numero totale di pagine.
              schema:
                type: integer
                description: Numero totale di pagine.
                format: $int32
            Paging-Page:
              description: Numero di pagina.
              schema:
                type: integer
                description: Numero di pagina.
                format: $int32
            Paging-PageSize:
              description: Dimensione della pagina.
              schema:
                type: integer
                description: Dimensione della pagina.
                format: $int32
            Paging-TotalRecordCount:
              description: Numero totale di record.
              schema:
                type: integer
                description: Numero totale di record.
                format: $int32
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TrasmissioneDatiItemResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    post:
      tags:
        - Trasmissione dati soggetto delegato
      summary: Trasmette i dati del FIR digitale
      description: >-
        Effettua la trasmissione dei dati estratti da un FIR digitale riferibile
        all'unità locale specificata in <b>num_iscr_sito</b>. 


        Se non viene specificato il parametro
        <b>num_iscr_sito_trasportatore</b>, l'operazione può essere richiesta
        solo da un'utenza che abbia incarichi per (o coincida con) 

        il soggetto operatore a cui afferisce il numero di iscrizione dell'unità
        locale indicato nel parametro <b>num_iscr_sito</b>. 

        Tale soggetto deve essere uno dei soggetti coinvolti nel formulario che
        viene trasmesso.


        Se viene specificato il parametro <b>num_iscr_sito_trasportatore</b>,
        l'operazione di trasmissione è intesa come effettuata dal trasportatore
        per conto del produttore, 

        e può essere richiesta solo da un'utenza che abbia incarichi per (o
        coincida con) il soggetto trasportatore a cui afferisce il numero di
        iscrizione dell'unità locale indicato in questo parametro. 

        Questo soggetto deve essere quello indicato come primo trasportatore nei
        dati del formulario che viene trasmesso, mentre il valore di
        <b>num_iscr_sito</b> deve riferirsi al soggetto produttore.

        La trasmissione dei dati del FIR digitale effettuata dal trasportatore
        per conto del produttore è possibile solo se il numero FIR è stato
        vidimato al trasportatore.


        È possibile trasmettere più volte i dati dello stesso formulario
        relativamente ad una stessa unità locale. 

        In caso di trasmissioni ripetute per numero FIR e unità locale, l'ultima
        trasmissione dati effettuata in ordine temporale annulla e sostituisce
        le precedenti.
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero di iscrizione dell'unità locale alla quale è riferita la
            trasmissione dei dati del FIR digitale
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: num_iscr_sito_trasportatore
          in: query
          description: >-
            Eventuale numero di iscrizione dell'unità locale del trasportatore
            che effettua la trasmissione per conto del produttore
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
      requestBody:
        description: Dati del FIR digitale trasmessi
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/DatiTrasmissioneFormularioModel'
        required: true
      responses:
        '201':
          description: Created
          headers:
            Location:
              description: URL per verificare lo stato dell'elaborazione.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrasmissioneFormularioResponse'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/trasmissioni/soggetto-delegato/{num_iscr_sito}/{identificativo}':
    get:
      tags:
        - Trasmissione dati soggetto delegato
      summary: Dettaglio trasmissione
      description: >-
        Recupera le informazioni di dettaglio della trasmissione di dati di FIR
        digitale corrispondente all'identificativo specificato
      parameters:
        - name: num_iscr_sito
          in: path
          description: >-
            Numero iscrizione dell'unità locale per cui si vogliono recuperare
            le trasmissioni
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: Identificativo della trasmissione
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TrasmissioneDatiResult'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/trasmissioni/soggetto-delegato/{num_iscr_sito}/{identificativo}/annulla':
    delete:
      tags:
        - Trasmissione dati soggetto delegato
      summary: Annulla trasmissione di dati del FIR digitale
      description: >-
        Pone in stato "annullata" la trasmissione di dati del FIR digitale
        specificata.


        L'operazione non è reversibile.
      parameters:
        - name: num_iscr_sito
          in: path
          description: ''
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: identificativo
          in: path
          description: ''
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/trasmissioni/soggetto-delegato/{num_iscr_sito}/{numero_fir}/estrai':
    post:
      tags:
        - Trasmissione dati soggetto delegato
      summary: "\U0001F501[ASYNC] Estrazione dati per FIR digitale"
      description: "Effettua l'estrazione dei dati che devono essere trasmessi dal file del FIR digitale che viene specificato tra i dati della richiesta. \r\n\r\nL'operazione può essere eseguita da un'utenza che abbia incarichi per (o coincida con) il soggetto operatore a cui afferisce il numero di iscrizione dell'unità locale indicato nel parametro <b>num_iscr_sito</b>.\r\n        \r\nIl file xFIR inviato deve essere valido secondo le regole definite nella <i>Guida tecnica alla compilazione del FIR digitale</i> \r\ne verificabile dalla specifica funzione di validazione definita dall'endpoint <i>Validazione xFIR</i> delle API \"Formulario digitale\".\r\n\r\nIl file xFIR non deve contenere dati pertinenti al formulario non firmati digitalmente. \r\n\r\nLa dimensione massima accettata del file xFIR da cui estrarre i dati è 3 MB.\r\n\r\nCon l'identificativo della transazione restituito è possibile consultare lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine dell'elaborazione dei dati, il fruitore riceverà una notifica con l'esito dell'elaborazione all'URL specificato."
      parameters:
        - name: num_iscr_sito
          in: path
          description: ''
          required: true
          schema:
            pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
            type: string
        - name: numero_fir
          in: path
          description: ''
          required: true
          schema:
            pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
            type: string
        - name: X-ReplyTo
          in: header
          description: ''
          schema:
            type: string
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/EstraiDatiXfirModel'
        required: true
      responses:
        '202':
          description: Accepted
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: Bad Request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '403':
          description: Forbidden
        '404':
          description: Not Found
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Internal Server Error
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoEstrazioneDatiXfirModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
  /xfir/valida:
    post:
      tags:
        - Formulario digitale
      summary: "\U0001F501[ASYNC] Validazione xFIR"
      description: >-
        Acquisisce la richiesta di controllo di validità dei dati contenuti nel
        file xFIR secondo le specifiche del formato definite nella <i>Guida
        tecnica alla struttura del FIR digitale</i>.


        L'operazione può essere eseguita da qualsiasi utenza o soggetto, non
        necessariamente coinvolta nel formulario.


        La dimensione massima accettata del file xFIR è 3 MB.


        Con l'identificativo della transazione restituito è possibile consultare
        lo stato di avanzamento dell'elaborazione e richiederne l'esito.<br/>Se
        viene specificato un URL nell'header <i>X-ReplyTo</i>, al termine
        dell'elaborazione dei dati, il fruitore riceverà una notifica con
        l'esito dell'elaborazione all'URL specificato.
      parameters:
        - name: X-ReplyTo
          in: header
          description: >-
            URL di callback alla quale verrà inviata la notifica di fine
            elaborazione
          schema:
            type: string
      requestBody:
        description: Oggetto contenente il contenuto del file xFIR
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ValidaXfirModel'
        required: true
      responses:
        '202':
          description: Richiesta accettata
          headers:
            Location:
              description: >-
                URL per verificare lo stato dell'elaborazione. Restituito solo
                se non viene specificata una URL di callback nell'header
                <i>X-ReplyTo</i>.
              schema:
                type: string
                description: URL per verificare lo stato dell'elaborazione.
                format: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransazioneModel'
        '400':
          description: >-
            Dettaglio degli errori di validazione in caso di modello dati non
            valido
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '423':
          description: "Sono state eseguite troppe richieste non valide. \n\t\t\t\t\t\tQuesta risposta viene restituita quando viene rilevato un numero eccessivo di richieste concorrenti, autenticate ma non valide. \n\t\t\t\t\t\tIn questo caso, le eventuali richieste valide continueranno ad essere accettate, mentre solo le richieste non valide verranno bloccate applicando un meccanismo di \"ban\" a livello di chiamante (Issuer). \n\t\t\t\t\t\tIl servizio di assistenza per l'interoperabilità RENTRI potrà essere contattato dal fruitore del servizio per i chiarimenti relativi alle richieste non valide, al fine di apportare le correzioni necessarie ai client."
        '429':
          description: >-
            Troppe richieste. Questa risposta viene restituita quando vengono
            rilevate più di 100 richieste in 5 secondi.
          headers:
            Retry-After:
              description: >-
                Indica quanto tempo il fruitore deve attendere prima di
                effettuare una nuova richiesta.
        '500':
          description: Errore non gestito (contattare l'assistenza)
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
      callbacks:
        Callback di notifica di fine elaborazione:
          'https://example.com':
            post:
              summary: >-
                Callback esposta pubblicamente in cui verranno inviate le
                notifiche di fine elaborazione
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/EsitoValidazioneXfirModel'
              responses:
                '200':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    avvenuta ricezione.
                '400':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di
                    formato non corretto della richiesta.
                '500':
                  description: >-
                    Il fruitore restituisce questo Status Code in caso di errori
                    non dipendenti dalla richiesta.
components:
  schemas:
    AccettazioneItemResult:
      type: object
      properties:
        tipo_accettazione:
          allOf:
            - $ref: '#/components/schemas/TipiAccettazione'
          description: >-
            Tipo accettazione<p>Valori ammessi:<ul style="margin:0"><li><i>A</i>
            - Accettato per intero</li><li><i>P</i> - Accettato
            parzialmente</li><li><i>R</i> - Respinto</li></ul></p>
          nullable: true
        quantita_accettata:
          type: number
          description: Quantità accettata in kg
          format: double
          nullable: true
        data_ora_arrivo:
          type: string
          description: Data ora arrivo (formato ISO 8601 UTC)
          format: date-time
          nullable: true
      additionalProperties: false
      description: Dati di accettazione del rifiuto
    AnalisiClassificazioneModel:
      required:
        - numero
        - tipo
      type: object
      properties:
        tipo:
          allOf:
            - $ref: '#/components/schemas/TipoAnalisiClassificazione'
          description: >-
            <p>Valori ammessi:<ul style="margin:0"><li><i>Analisi</i> -
            Analisi/rapporto di prova</li><li><i>Classificazione</i> -
            Classificazione</li></ul></p>
        numero:
          maxLength: 50
          minLength: 1
          type: string
        data:
          type: string
          format: date-time
          nullable: true
      additionalProperties: false
    AutorizzazioneModel:
      type: object
      properties:
        numero:
          maxLength: 50
          type: string
          description: Numero di autorizzazione
          nullable: true
        tipo:
          allOf:
            - $ref: '#/components/schemas/TipiAutorizzazione'
          description: >-
            Tipo autorizzazione<p>Valori ammessi:<ul
            style="margin:0"><li><i>RecSmalArt208</i> - Autorizzazione unica per
            i nuovi impianti di recupero/smaltimento - art. 208 decreto
            legislativo 3 aprile 2006, n.
            152.</li><li><i>RecSmalImpMobiliArt208</i> - Autorizzazione
            all'esercizio di operazioni di recupero e/o smaltimento dei rifiuti
            con impianti mobili - art.208, comma 15 del decreto legislativo 3
            aprile 2006, n. 152.</li><li><i>RicercaSperimentazione</i> -
            Autorizzazione alla realizzazione di impianti di ricerca e
            sperimentazione - art. 211 del decreto legislativo 3 aprile 2006, n.
            152.</li><li><i>AIA</i> - Autorizzazione Integrata Ambientale -
            artt. 29-ter e 213 del decreto legislativo 3 aprile 2006, n.
            152.</li><li><i>RecProcSemplificata</i> - Operazioni di recupero
            mediante Comunicazione in "Procedura Semplificata" - artt.214 e 216
            del decreto legislativo 3 aprile 2006, n. 152e autorizzazione unica
            ambientale (AUA) - Decreto Presidente Repubblica n. 59 del 13 marzo
            2013.</li><li><i>OpBonifica</i> - Provvedimenti che autorizzano le
            operazioni di bonifica, ai sensi del comma 7 dell’art. 242 del
            decreto legislativo 3 aprile 2006, n.
            152.</li><li><i>Straordinario</i> - Autorizzazioni “straordinarie”
            art. 191 del decreto legislativo 3 aprile 2006, n. 152 (attività
            svolte in regime di ordinanza contingibile e
            urgente)</li><li><i>ComTrattamentoAcqueReflue</i> - Comunicazione al
            trattamento di rifiuti e materiali in impianti di trattamento di
            acque reflue urbane - art. 110 c.3 del D.Lgs.
            152/2006</li><li><i>AutTrattamentoAcqueReflue</i> - Autorizzazione 
            al trattamento di rifiuti liquidi in impianti di trattamento di
            acque reflue urbane - artt. 110 c.2 con provvedimento secondo artt.
            208 oppure 29-ter e 213 del D.Lgs. 152/2006</li></ul></p>
          nullable: true
      additionalProperties: false
      description: Autorizzazione
    AzioniResult:
      type: object
      properties:
        versione:
          type: integer
          format: int32
          nullable: true
        stato:
          allOf:
            - $ref: '#/components/schemas/StatoFormulario'
          description: >-
            Stati del FIR digitale<p>Valori ammessi:<ul
            style="margin:0"><li><i>InserimentoQuantita</i> - Il formulario
            necessita dei dati sulla quantità del
            rifiuto</li><li><i>InserimentoQuantitaTrasportoIniziale</i> - Il
            formulario necessita dei dati sulla quantità del rifiuto e dei dati
            del trasporto iniziale</li><li><i>InserimentoTrasportoIniziale</i> -
            Il formulario necessita dei dati del trasporto
            iniziale</li><li><i>FirmaProduttoreTrasportatoreIniziale</i> - Il
            formulario necessita della firma del produttore e del trasportatore
            iniziale</li><li><i>FirmaTrasportatoreIniziale</i> - Il formulario
            necessita della firma del trasportatore
            iniziale</li><li><i>FirmaProduttore</i> - Il formulario necessita
            della firma del
            produttore</li><li><i>InserimentoTrasportoSuccessivo</i> - Il
            formulario è in carico ad un traportatore e necessita
            dell'inserimento dei dati del trasporto successivo;
                        il trasportatore che ha in carico il rifiuto può inserire informazioni aggiuntive (annotazioni, trasbordo parziale, sosta tecnica, trasbordo totale, allegati)
                        che dovranno essere successivamente firmate</li><li><i>FirmaTrasportatoreSuccessivo</i> - Il formulario necessita della firma del trasportatore successivo al primo che ha in carico il rifiuto</li><li><i>FirmaAnnotazione</i> - Il formulario necessita della firma dell'annotazione da parte del soggetto che l'ha inserita</li><li><i>FirmaTrasbordoParziale</i> - Il formulario necessita della firma del trasportatore che effettua il trasbordo parziale del rifiuto</li><li><i>FirmaTrasbordoTotale</i> - Il formulario necessita della firma del trasportatore che prende in carico il rifiuto con l'operazione di trasbordo totale del rifiuto</li><li><i>FirmaSostaTecnica</i> - Il formulario necessita della firma del trasportatore che ha in carico il rifiuto e ha inserito i dati della sosta tecnica</li><li><i>FirmaAllegato</i> - Il formulario necessita della firma del soggetto che ha aggiunto i dati relativi all'allegato al formulario digitale. ATTENZIONE!: questo valore è DEPRECATO: lo stato non è più utilizzato, per gli allegati aggiunti via API non è più prevista la firma</li><li><i>InserimentoAccettazione</i> - Il formulario è in carico all'ultimo trasportatore ed è in attesa dell'inserimento dei dati di accettazione da parte del destinatario verso cui è destinato il rifiuto
                        (a meno di ulteriori informazioni aggiuntive che l'ultimo trasportatore può inserire prima della consegna al destinatario)</li><li><i>FirmaAccettazione</i> - Il formulario necessita della firma del destinatario indicato nei dati di partenza</li><li><i>Accettato</i> - Il formulario è stato accettato dal destinatario ed ha concluso il suo ciclo di vita</li><li><i>RespintoAccettatoParzialmente</i> - Il formulario è stato respinto o accettato parzialmente, il trasportatore che ha in carico il rifiuto può inserire (in accordo con il produttore) i dati
                        di un nuovo destinatario</li><li><i>FirmaDestinatarioSuccessivo</i> - Il formulario è in attesa della firma dei dati del nuovo destinatario inseriti da parte del trasportatore che ha in carico il rifiuto</li><li><i>FirmaAccettazioneSuccessiva</i> - Il formulario necessita della firma del destinatario successivo a quello indicato nei dati di partenza che ha rifiutato totalmente o parzialmente il rifiuto</li><li><i>FirmaAnnullamento</i> - Il formulario necessita della firma dei dati di annullamento inseriti dal soggetto titolare della vidimazione del numero FIR</li><li><i>Annullato</i> - Il formulario risulta essere stato annullato</li><li><i>Indeterminato</i> - Il formulario è in uno stato non determinato per incoerenza dei dati contenuti</li></ul></p>
        azioni:
          type: array
          items:
            $ref: '#/components/schemas/Operazione'
          description: >-
            Elenco delle operazioni effettuabili sul formulario abilitate per il
            soggetto specificato, 

            in funzione dello stato in cui si trova il formulario
          nullable: true
      additionalProperties: false
    CaratteristichePericolo:
      enum:
        - HP01
        - HP02
        - HP03
        - HP04
        - HP05
        - HP06
        - HP07
        - HP08
        - HP09
        - HP10
        - HP11
        - HP12
        - HP13
        - HP14
        - HP15
      type: string
    CausaliRespingimento:
      enum:
        - NC
        - IR
        - A
      type: string
    CittaBaseModel:
      type: object
      description: Città estera o comune Italiano
    CittaEsteraModel:
      title: CittaEsteraModel
      required:
        - nazione_id
        - nome_citta
      type: object
      allOf:
        - $ref: '#/components/schemas/CittaBaseModel'
      properties:
        nazione_id:
          maxLength: 2
          minLength: 1
          pattern: ^(?!.*(?i)it).*$
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
        nome_citta:
          maxLength: 100
          minLength: 1
          type: string
          description: Città estera
      description: Città estera
    ComuneModel:
      title: ComuneModel
      required:
        - comune_id
      type: object
      allOf:
        - $ref: '#/components/schemas/CittaBaseModel'
      properties:
        comune_id:
          maxLength: 6
          minLength: 1
          type: string
          description: >-
            Comune ISTAT del comune.


            Non vengono accettati codici non corrispondenti a codici ISTAT di
            comuni italiani.


            Vedi API di codifica: <i>GET /codifiche/v1.0/comuni</i>
      description: Comune Italiano
    ConducenteModel:
      required:
        - cognome
        - nome
      type: object
      properties:
        nome:
          maxLength: 50
          minLength: 1
          type: string
          description: Nome
        cognome:
          maxLength: 50
          minLength: 1
          type: string
          description: Cognome
      additionalProperties: false
      description: Conducente
    ControlloFirmeResult:
      type: object
      properties:
        data_firma:
          type: string
          description: Data dichiarata nella firma digitale
          format: date-time
          nullable: true
        riferimenti:
          type: array
          items:
            type: string
          description: Riferimenti ai file coperti dalla firma
          nullable: true
        codice:
          type: string
          description: Codice identificativo del controllo
          nullable: true
        esito:
          allOf:
            - $ref: '#/components/schemas/EsitoValidazione'
          description: Esito del controllo
        dettaglio:
          type: string
          description: Eventuali dati di dettaglio considerati nel controllo
          nullable: true
        nome_file:
          type: string
          description: Nome del file oggetto del controllo
          nullable: true
      additionalProperties: false
    ControlloFormatoResult:
      type: object
      properties:
        codice:
          type: string
          description: Codice identificativo del controllo
          nullable: true
        esito:
          allOf:
            - $ref: '#/components/schemas/EsitoValidazione'
          description: Esito del controllo
        dettaglio:
          type: string
          description: Eventuali dati di dettaglio considerati nel controllo
          nullable: true
        nome_file:
          type: string
          description: Nome del file oggetto del controllo
          nullable: true
      additionalProperties: false
    ControlloSchemaResult:
      type: object
      properties:
        codice:
          type: string
          description: Codice identificativo del controllo
          nullable: true
        esito:
          allOf:
            - $ref: '#/components/schemas/EsitoValidazione'
          description: Esito del controllo
        dettaglio:
          type: string
          description: Eventuali dati di dettaglio considerati nel controllo
          nullable: true
        nome_file:
          type: string
          description: Nome del file oggetto del controllo
          nullable: true
      additionalProperties: false
    ControlloVidimazioneResult:
      type: object
      properties:
        codice:
          type: string
          description: Codice identificativo del controllo
          nullable: true
        esito:
          allOf:
            - $ref: '#/components/schemas/EsitoValidazione'
          description: Esito del controllo
        dettaglio:
          type: string
          description: Eventuali dati di dettaglio considerati nel controllo
          nullable: true
        nome_file:
          type: string
          description: Nome del file oggetto del controllo
          nullable: true
      additionalProperties: false
    CopiaCartaceaConfermaModel:
      required:
        - identificativo
      type: object
      properties:
        identificativo:
          minLength: 1
          type: string
          description: Identificativo univoco della copia del FIR cartaceo
        num_iscr_sito:
          type: string
          description: >-
            Eventuale Numero iscrizione unità locale al quale associare la
            conferma della copia del FIR cartaceo
          nullable: true
        ruolo:
          allOf:
            - $ref: '#/components/schemas/RuoloConfermaCopiaCartacea'
          description: >-
            Ruolo all'interno del FIR del soggetto per cui si effettua
            l'operazione di conferma di presa visione.
        respingi:
          type: boolean
          description: Effettua l'operazione di annullamento di una precedente conferma
          nullable: true
      additionalProperties: false
    CopiaCartaceaModel:
      required:
        - data_emissione
        - file_content
        - mime
        - nome_file
        - numero_fir
        - produttore
      type: object
      properties:
        file_content:
          type: string
          description: >-
            Contenuto del file che rappresenta la copia cartacea del formulario
            codificato in base64
          format: byte
        nome_file:
          minLength: 1
          type: string
          description: Nome del file
        mime:
          minLength: 1
          type: string
          description: >-
            Tipo MIME del file da caricare.

            Valori ammessi: 

            <ul><li><i>application/pdf</i></li><li><i>image/jpeg</i></li><li><i>image/png</i></li></ul>
        numero_fir:
          minLength: 1
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
          description: 'Numero del FIR cartaceo, rilasciato al momento della vidimazione'
        data_emissione:
          type: string
          description: >-
            Data emissione del formulario cartaceo (formato ISO 8601 UTC)

            È necessario specificare una data antecedente o uguale alla data
            corrente
          format: date-time
        produttore:
          allOf:
            - $ref: '#/components/schemas/CopiaCartaceaSoggettoInfo'
          description: Dati del produttore a cui si rende disponibile la copia cartacea
        trasportatori:
          type: array
          items:
            $ref: '#/components/schemas/CopiaCartaceaSoggettoInfo'
          nullable: true
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/CopiaCartaceaSoggettoInfo'
          nullable: true
        note:
          maxLength: 500
          type: string
          description: Eventuali note riguardanti la copia cartacea
          nullable: true
      additionalProperties: false
    CopiaCartaceaResult:
      type: object
      properties:
        identificativo:
          type: string
          description: Identificativo univco della copia del FIR cartaceo caricata
          nullable: true
        numero_fir:
          type: string
          description: Numero del FIR cartaceo
          nullable: true
        data_emissione:
          type: string
          description: Data emissione del FIR cartaceo (formato ISO 8601 UTC)
          format: date-time
          nullable: true
        num_iscr_sito:
          type: string
          description: >-
            Numero iscrizione unità locale dell'operatore che ha effettuato il
            caricamento

            ⚠️ Deprecato: utilizzare "num_iscr_sito_caricamento"
          nullable: true
          readOnly: true
          deprecated: true
        produttore:
          allOf:
            - $ref: '#/components/schemas/CopiaCartaceaRuoloResult'
          description: >-
            Dati del produttore a cui si rende disponibile la copia del FIR
            cartaceo
          nullable: true
        trasportatori:
          type: array
          items:
            $ref: '#/components/schemas/CopiaCartaceaRuoloResult'
          description: >-
            Dati dei trasportatori ai quali si rende disponibile la copia del
            FIR cartaceo
          nullable: true
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/CopiaCartaceaRuoloResult'
          description: >-
            Dati degli intermediari ai quali si rende disponibile la copia del
            FIR cartaceo
          nullable: true
        note:
          type: string
          description: Eventuali note riguardanti la copia del FIR cartaceo
          nullable: true
        data_caricamento:
          type: string
          description: >-
            Data di caricamento della copia del FIR cartaceo (formato ISO 8601
            UTC)
          format: date-time
          nullable: true
        num_iscr_sito_caricamento:
          type: string
          description: >-
            Numero iscrizione unità locale dell'operatore che ha effettuato il
            caricamento
          nullable: true
        codice_fiscale_caricamento:
          type: string
          description: Codice fiscale del soggetto che ha effettuato il caricamento
          nullable: true
        denominazione_caricamento:
          type: string
          description: Denominazione del soggetto che ha effettuato il caricamento
          nullable: true
        emesso_da_identificativo:
          type: string
          description: Codice fiscale del soggetto intestatario del numero FIR
          nullable: true
        emesso_da_denominazione:
          type: string
          description: Denominazione del soggetto intestatario del numero FIR
          nullable: true
      additionalProperties: false
      description: Dati della copia del FIR cartaceo
    CopiaCartaceaRuoloResult:
      type: object
      properties:
        codice_fiscale:
          type: string
          description: >-
            Codice fiscale del soggetto a cui viene resa disponibile la copia
            del FIR cartaceo
          nullable: true
        denominazione:
          type: string
          description: >-
            Denominazione del soggetto a cui viene resa disponibile la copia del
            FIR cartaceo
          nullable: true
        num_iscr_sito:
          type: string
          description: >-
            Numero iscrizione unità locale del soggetto a cui viene resa
            disponibile la copia del FIR cartaceo
          nullable: true
        data_conferma:
          type: string
          description: >-
            Data dell'eventuale avvenuta conferma da parte del soggetto (formato
            ISO 8601 UTC)
          format: date-time
          nullable: true
      additionalProperties: false
    CopiaCartaceaSoggettoInfo:
      required:
        - codice_fiscale
        - denominazione
      type: object
      properties:
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>


            <i>Questo campo viene utilizzato esclusivamente per validare i dati
            di input in base alla nazione di appartenenza (non viene memorizzato
            e quindi restituito in output).</i>
          nullable: true
        identificativo:
          maxLength: 20
          minLength: 5
          type: string
          description: |-
            Codice fiscale del soggetto
            ⚠️ Deprecato: utilizzare "codice_fiscale"
          nullable: true
          deprecated: true
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto. 

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        denominazione:
          maxLength: 1024
          minLength: 1
          type: string
          description: Denominazione del soggetto
        num_iscr_sito:
          type: string
          description: >-
            Numero iscrizione unità locale. 

            Il parametro è opzionale e deve essere fornito al trasportatore dal
            soggetto.
          nullable: true
      additionalProperties: false
    CopiaDigitaleAccettazioneResult:
      type: object
      properties:
        tipo_accettazione:
          allOf:
            - $ref: '#/components/schemas/TipiAccettazione'
          description: >-
            Tipo accettazione<p>Valori ammessi:<ul style="margin:0"><li><i>A</i>
            - Accettato per intero</li><li><i>P</i> - Accettato
            parzialmente</li><li><i>R</i> - Respinto</li></ul></p>
          nullable: true
        quantita_accettata:
          type: number
          description: Quantità accettata in kg
          format: double
          nullable: true
        causale_respingimento:
          allOf:
            - $ref: '#/components/schemas/CausaliRespingimento'
          description: >-
            Causale di respingimento<p>Valori ammessi:<ul
            style="margin:0"><li><i>NC</i> - Non Conformità, a titolo
            esemplificativo e non esaustivo, si riporta: rifiuti diverso da
            quello descritto dal formulario o da quanto dichiarato ai fini della
            pratica di conferimento all'impianto, rifiuto confezionato in modo
            non conforme da quanto previsto per la specifica destinazione o
            dalle norme applicabili, di stato fisico diverso da quello
            previsto)</li><li><i>IR</i> - Irricevibile, (a titolo
            esemplificativo e non esaustivo, si riporta: rifiuto non previsto
            dall'autorizzazione / iscrizione dell'impianto di destino, mancanza
            dei requisiti per l'ammissibilità all'impianto quali
            caratterizzazione di base, analisi di classificazione o di
            ammissibilità…)</li><li><i>A</i> - Indicare motivazione. A titolo
            esemplificativo e non esaustivo, si riporta: esaurimento volumetria
            disponibile per conferimento rifiuto, chiusura impianto per
            manutenzione straordinaria, ecc.</li></ul></p>
          nullable: true
        data_ora_arrivo:
          type: string
          description: Data ora arrivo (formato ISO 8601 UTC)
          format: date-time
          nullable: true
      additionalProperties: false
    CopiaDigitaleItemResult:
      type: object
      properties:
        identificativo:
          type: string
          description: Codice univoco associato alla restituzione della copia digitale
          nullable: true
        numero_fir:
          type: string
          description: Numero FIR
          nullable: true
        data_emissione:
          type: string
          description: Data di emissione indicata nel FIR digitale
          format: date-time
          nullable: true
        data_caricamento:
          type: string
          description: Data di caricamento
          format: date-time
          nullable: true
        tipo_accettazione:
          allOf:
            - $ref: '#/components/schemas/TipiAccettazione'
          description: >-
            Tipo di accettazione del destinatario<p>Valori ammessi:<ul
            style="margin:0"><li><i>A</i> - Accettato per
            intero</li><li><i>P</i> - Accettato parzialmente</li><li><i>R</i> -
            Respinto</li></ul></p>
          nullable: true
        is_confermata:
          type: boolean
          description: >-
            Indica se per la copia digitale è già stata confermata da parte di
            tutti i soggetti a cui è stata resa disponibile.

            Valorizzata solo quando la richiesta di elencazione riguarda le
            copie digitali caricate dal destinatario.
          nullable: true
        note:
          type: string
          description: Eventuali note aggiunte dal destinatario in fase di caricamento
          nullable: true
        produttore:
          allOf:
            - $ref: '#/components/schemas/CopiaDigitaleRuoloItemResult'
          description: Dati del produttore indicati nel FIR digitale
          nullable: true
        trasportatori:
          type: array
          items:
            $ref: '#/components/schemas/CopiaDigitaleRuoloItemResult'
          description: Dati dei trasportatori indicati nel FIR digitale
          nullable: true
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/CopiaDigitaleRuoloItemResult'
          description: Dati degli intermediari indicati nel FIR digitale
          nullable: true
      additionalProperties: false
    CopiaDigitaleModel:
      required:
        - num_iscr_sito
        - xfir
      type: object
      properties:
        num_iscr_sito:
          minLength: 1
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
        note:
          maxLength: 500
          type: string
          nullable: true
        xfir:
          type: string
          description: Contenuto del file xFIR
          format: byte
      additionalProperties: false
    CopiaDigitaleResult:
      type: object
      properties:
        identificativo:
          type: string
          description: Identificativo univco della copia del FIR digitale caricata
          nullable: true
        numero_fir:
          type: string
          description: Numero del FIR digitale
          nullable: true
        data_emissione:
          type: string
          description: Data emissione del FIR digitale (formato ISO 8601 UTC)
          format: date-time
          nullable: true
        num_iscr_sito:
          type: string
          description: >-
            Numero iscrizione unità locale dell'operatore che ha effettuato il
            caricamento
          nullable: true
        produttore:
          allOf:
            - $ref: '#/components/schemas/CopiaDigitaleRuoloResult'
          description: >-
            Dati del produttore a cui si rende disponibile la copia del FIR
            digitale
          nullable: true
        destinatari:
          type: array
          items:
            $ref: '#/components/schemas/CopiaDigitaleRuoloResult'
          description: >-
            Dati dei destinatari ai quali si rende disponibile la copia del FIR
            digitale
          nullable: true
        trasportatori:
          type: array
          items:
            $ref: '#/components/schemas/CopiaDigitaleRuoloResult'
          description: >-
            Dati dei trasportatori ai quali si rende disponibile la copia del
            FIR digitale
          nullable: true
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/CopiaDigitaleRuoloResult'
          description: >-
            Dati degli intermediari ai quali si rende disponibile la copia del
            FIR digitale
          nullable: true
        note:
          type: string
          description: Eventuali note riguardanti la copia del FIR digitale
          nullable: true
        data_caricamento:
          type: string
          description: >-
            Data di caricamento della copia del FIR digitale (formato ISO 8601
            UTC)
          format: date-time
          nullable: true
        codice_fiscale_caricamento:
          type: string
          description: Codice fiscale del soggetto che ha effettuato il caricamento
          nullable: true
        denominazione_caricamento:
          type: string
          description: Denominazione del soggetto che ha effettuato il caricamento
          nullable: true
        emesso_da_identificativo:
          type: string
          description: Codice fiscale del soggetto intestatario del numero FIR
          nullable: true
        emesso_da_denominazione:
          type: string
          description: Denominazione del soggetto intestatario del numero FIR
          nullable: true
        accettazione:
          allOf:
            - $ref: '#/components/schemas/CopiaDigitaleAccettazioneResult'
          description: Dati di accettazione del destinatario
          nullable: true
      additionalProperties: false
      description: Dati della copia del FIR digitale
    CopiaDigitaleRuoloItemResult:
      type: object
      properties:
        identificativo:
          type: string
          description: Identificativo del soggetto
          nullable: true
        denominazione:
          type: string
          description: Denominazione del soggetto
          nullable: true
        num_iscr_sito:
          type: string
          description: >-
            Eventuale numero di iscrizione dell'unità locale indicata per il
            soggetto
          nullable: true
        nome_sito:
          type: string
          description: Eventuale nome del comune dell'unità locale indicata per il soggetto
          nullable: true
        data_conferma:
          type: string
          description: Data dell'avvenuta presa visione da parte del soggetto
          format: date-time
          nullable: true
      additionalProperties: false
    CopiaDigitaleRuoloResult:
      type: object
      properties:
        codice_fiscale:
          type: string
          description: >-
            Codice fiscale del soggetto a cui viene resa disponibile la copia
            del FIR digitale
          nullable: true
        denominazione:
          type: string
          description: >-
            Denominazione del soggetto a cui viene resa disponibile la copia del
            FIR digitale
          nullable: true
        num_iscr_sito:
          type: string
          description: >-
            Numero iscrizione unità locale del soggetto a cui viene resa
            disponibile la copia del FIR digitale
          nullable: true
        num_iscr_sito_conferma:
          type: string
          description: >-
            Numero iscrizione unità locale del soggetto che ha confermato la
            presa visione della copia del FIR digitale
          nullable: true
        data_conferma:
          type: string
          description: >-
            Data dell'eventuale avvenuta conferma di presa visione da parte del
            soggetto (formato ISO 8601 UTC)
          format: date-time
          nullable: true
        via:
          type: string
          description: >-
            Via del soggetto a cui viene resa disponibile la copia del FIR
            digitale
          nullable: true
        civico:
          type: string
          description: >-
            Civico del soggetto a cui viene resa disponibile la copia del FIR
            digitale
          nullable: true
        comune_id:
          type: string
          description: >-
            Codice ISTAT del comune del soggetto a cui viene resa disponibile la
            copia del FIR digitale
          nullable: true
      additionalProperties: false
    DatiAccettazioneModel:
      required:
        - data_ora_arrivo
        - tipo_accettazione
      type: object
      properties:
        tipo_accettazione:
          allOf:
            - $ref: '#/components/schemas/TipiAccettazione'
          description: >-
            Tipo accettazione<p>Valori ammessi:<ul style="margin:0"><li><i>A</i>
            - Accettato per intero</li><li><i>P</i> - Accettato
            parzialmente</li><li><i>R</i> - Respinto</li></ul></p>
        quantita_accettata:
          allOf:
            - $ref: '#/components/schemas/QuantitaKgModel'
          description: 'Quantità accettata in kg, richiesta per tipo accettazione A o P'
          nullable: true
        causale_respingimento:
          allOf:
            - $ref: '#/components/schemas/CausaliRespingimento'
          description: >-
            Causale di respingimento, richiesta per tipo accettazione R o
            P<p>Valori ammessi:<ul style="margin:0"><li><i>NC</i> - Non
            Conformità, a titolo esemplificativo e non esaustivo, si riporta:
            rifiuti diverso da quello descritto dal formulario o da quanto
            dichiarato ai fini della pratica di conferimento all'impianto,
            rifiuto confezionato in modo non conforme da quanto previsto per la
            specifica destinazione o dalle norme applicabili, di stato fisico
            diverso da quello previsto)</li><li><i>IR</i> - Irricevibile, (a
            titolo esemplificativo e non esaustivo, si riporta: rifiuto non
            previsto dall'autorizzazione / iscrizione dell'impianto di destino,
            mancanza dei requisiti per l'ammissibilità all'impianto quali
            caratterizzazione di base, analisi di classificazione o di
            ammissibilità…)</li><li><i>A</i> - Indicare motivazione. A titolo
            esemplificativo e non esaustivo, si riporta: esaurimento volumetria
            disponibile per conferimento rifiuto, chiusura impianto per
            manutenzione straordinaria, ecc.</li></ul></p>
          nullable: true
        motivo_respingimento:
          maxLength: 1000
          type: string
          description: 'Motivo di respingimento, richiesto per tipo accettazione R o P'
          nullable: true
        data_ora_arrivo:
          type: string
          description: Data ora arrivo (formato ISO 8601 UTC)
          format: date-time
        attesa_verifica_analitica:
          type: boolean
          description: >-
            Da valorizzare a true se il destinatario sottopone il rifiuto ad
            analisi
          nullable: true
      additionalProperties: false
      description: Dati accettazione
    DatiAccettazioneResultModel:
      required:
        - data_ora_arrivo
        - tipo_accettazione
      type: object
      properties:
        dati_firma:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma sui dati di accettazione
          nullable: true
        tipo_accettazione:
          allOf:
            - $ref: '#/components/schemas/TipiAccettazione'
          description: >-
            Tipo accettazione<p>Valori ammessi:<ul style="margin:0"><li><i>A</i>
            - Accettato per intero</li><li><i>P</i> - Accettato
            parzialmente</li><li><i>R</i> - Respinto</li></ul></p>
        quantita_accettata:
          allOf:
            - $ref: '#/components/schemas/QuantitaKgModel'
          description: 'Quantità accettata in kg, richiesta per tipo accettazione A o P'
          nullable: true
        causale_respingimento:
          allOf:
            - $ref: '#/components/schemas/CausaliRespingimento'
          description: >-
            Causale di respingimento, richiesta per tipo accettazione R o
            P<p>Valori ammessi:<ul style="margin:0"><li><i>NC</i> - Non
            Conformità, a titolo esemplificativo e non esaustivo, si riporta:
            rifiuti diverso da quello descritto dal formulario o da quanto
            dichiarato ai fini della pratica di conferimento all'impianto,
            rifiuto confezionato in modo non conforme da quanto previsto per la
            specifica destinazione o dalle norme applicabili, di stato fisico
            diverso da quello previsto)</li><li><i>IR</i> - Irricevibile, (a
            titolo esemplificativo e non esaustivo, si riporta: rifiuto non
            previsto dall'autorizzazione / iscrizione dell'impianto di destino,
            mancanza dei requisiti per l'ammissibilità all'impianto quali
            caratterizzazione di base, analisi di classificazione o di
            ammissibilità…)</li><li><i>A</i> - Indicare motivazione. A titolo
            esemplificativo e non esaustivo, si riporta: esaurimento volumetria
            disponibile per conferimento rifiuto, chiusura impianto per
            manutenzione straordinaria, ecc.</li></ul></p>
          nullable: true
        motivo_respingimento:
          maxLength: 1000
          type: string
          description: 'Motivo di respingimento, richiesto per tipo accettazione R o P'
          nullable: true
        data_ora_arrivo:
          type: string
          description: Data ora arrivo (formato ISO 8601 UTC)
          format: date-time
        attesa_verifica_analitica:
          type: boolean
          description: >-
            Da valorizzare a true se il destinatario sottopone il rifiuto ad
            analisi
          nullable: true
      additionalProperties: false
    DatiAllegatoModel:
      required:
        - content_type
        - contenuto
        - identificativo_soggetto
        - nome_file
      type: object
      properties:
        content_type:
          minLength: 1
          type: string
          description: |-
            Tipo del documento
            Valori ammessi: “application/pdf”
        nome_file:
          maxLength: 255
          minLength: 1
          type: string
          description: Nome del file
        contenuto:
          maxLength: 1048576
          type: string
          description: >-
            Contenuto del file. Il contenuto non deve suepere 1 MB di
            dimensione.

            La dimensione massima dell'xFIR risultante non dovrà superare i 3 MB
            a seguito dell'aggiunta dell'allegato.
          format: byte
        identificativo_soggetto:
          minLength: 1
          type: string
          description: >-
            Codice fiscale del soggetto, tra quelli indicati nel formulario, a
            cui è da riferirsi l'allegato
        descrizione:
          type: string
          nullable: true
          deprecated: true
      additionalProperties: false
    DatiAllegatoResultModel:
      required:
        - content_type
        - identificativo_soggetto
        - nome_file
      type: object
      properties:
        allegato_id:
          type: integer
          description: Identificatore dell'allegato nel contesto del FIR
          format: int32
          nullable: true
        content_type:
          minLength: 1
          type: string
          description: |-
            Tipo del documento
            Valori ammessi: “application/pdf”
        nome_file:
          maxLength: 255
          minLength: 1
          type: string
          description: Nome del file
        identificativo_soggetto:
          minLength: 1
          type: string
          description: >-
            Codice fiscale del soggetto, tra quelli indicati nel formulario, a
            cui è da riferirsi l'allegato
        descrizione:
          type: string
          nullable: true
          deprecated: true
      additionalProperties: false
    DatiAnnotazioneModel:
      required:
        - annotazione
        - identificativo_soggetto
      type: object
      properties:
        annotazione:
          maxLength: 10000
          minLength: 1
          type: string
          description: Contenuto dell'annotazione
        identificativo_soggetto:
          minLength: 1
          type: string
          description: >-
            Il codice fiscale del soggetto per cui viene richiesta l'aggiunta
            dell'annotazione al formulario. 

            Deve coincidere con quello di uno dei soggetti coinvolti nel
            formulario.

            L'identità con cui viene eseguita l'operazione deve avere visibilità
            su (o coincidere con) questo soggetto.
      additionalProperties: false
    DatiAnnotazioneResultModel:
      required:
        - annotazione
        - identificativo_soggetto
      type: object
      properties:
        dati_firma:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma sull'annotazione
          nullable: true
        annotazione:
          maxLength: 10000
          minLength: 1
          type: string
          description: Contenuto dell'annotazione
        identificativo_soggetto:
          minLength: 1
          type: string
          description: >-
            Il codice fiscale del soggetto per cui viene richiesta l'aggiunta
            dell'annotazione al formulario. 

            Deve coincidere con quello di uno dei soggetti coinvolti nel
            formulario.

            L'identità con cui viene eseguita l'operazione deve avere visibilità
            su (o coincidere con) questo soggetto.
      additionalProperties: false
    DatiAnnullamentoModel:
      required:
        - note
      type: object
      properties:
        note:
          maxLength: 1024
          minLength: 1
          type: string
          description: Note di annullamento
        codice_fiscale_soggetto:
          type: string
          description: >-
            Il soggetto che può annullare può essere solamente il titolare della
            vidimazione.
          nullable: true
          deprecated: true
      additionalProperties: false
      description: Dati richiesti per l'annullamento di un FIR
    DatiAnnullamentoResultModel:
      required:
        - note
      type: object
      properties:
        data_annullamento:
          type: string
          description: Data dell'annullamento
          format: date-time
          nullable: true
        dati_firma:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma sulla nota di annullamento
          nullable: true
        note:
          maxLength: 1024
          minLength: 1
          type: string
          description: Note di annullamento
        codice_fiscale_soggetto:
          type: string
          description: >-
            Il soggetto che può annullare può essere solamente il titolare della
            vidimazione.
          nullable: true
          deprecated: true
      additionalProperties: false
    DatiDestinatarioFormularioBaseModel:
      type: object
      properties:
        autorizzazione:
          allOf:
            - $ref: '#/components/schemas/AutorizzazioneModel'
          description: >-
            Autorizzazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.
          nullable: true
        attivita:
          allOf:
            - $ref: '#/components/schemas/OperazioniRecuperoSmaltimento'
          description: >-
            Attività di recupero o smaltimento a destinazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.<p>Valori ammessi:<ul
            style="margin:0"><li><i>R1</i> - Utilizzazione principale come
            combustibile o come altro mezzo per produrre
            energia</li><li><i>R2</i> - Rigenerazione/recupero di
            solventi</li><li><i>R3</i> - Riciclo/recupero delle sostanze
            organiche non utilizzate come solventi</li><li><i>R4</i> -
            Riciclo/recupero dei metalli e dei composti
            metallici</li><li><i>R5</i> - Riciclo/recupero di altre sostanze
            inorganiche</li><li><i>R6</i> - Rigenerazione degli acidi o delle
            basi</li><li><i>R7</i> - Recupero dei prodotti che servono a captare
            gli inquinanti</li><li><i>R8</i> - Recupero dei prodotti provenienti
            dai catalizzatori</li><li><i>R9</i> - Rigenerazione o altri
            reimpieghi degli oli</li><li><i>R10</i> - Spandimento sul suolo a
            beneficio dell'agricoltura o dell'ecologia</li><li><i>R11</i> -
            Utilizzazione di rifiuti ottenuti da una delle operazioni indicate
            da R1 a R10</li><li><i>R12</i> - Scambio di rifiuti per sottoporli a
            una delle operazioni indicate da R1 a R11</li><li><i>R13</i> - Messa
            in riserva di rifiuti per sottoporli a una delle operazioni indicate
            nei punti da R1 a R12</li><li><i>D1</i> - Deposito sul o nel
            suolo</li><li><i>D2</i> - Trattamento in ambiente
            terrestre</li><li><i>D3</i> - Iniezioni in
            profondità</li><li><i>D4</i> - Lagunaggio</li><li><i>D5</i> - Messa
            in discarica specialmente allestita</li><li><i>D6</i> - Scarico dei
            rifiuti solidi nell'ambiente idrico eccetto
            l'immersione</li><li><i>D7</i> - Immersione, compreso il
            seppellimento nel sottosuolo marino</li><li><i>D8</i> - Trattamento
            biologico non specificato altrove nel presente
            allegato</li><li><i>D9</i> - Trattamento fisico-chimico non
            specificato altrove nel presente allegato</li><li><i>D10</i> -
            Incenerimento a terra</li><li><i>D11</i> - Incenerimento in
            mare</li><li><i>D12</i> - Deposito permanente</li><li><i>D13</i> -
            Raggruppamento preliminare prima di una delle operazioni di cui ai
            punti da D1 a D12</li><li><i>D14</i> - Ricondizionamento preliminare
            prima di una delle operazioni di cui ai punti da D1 a
            D13</li><li><i>D15</i> - Deposito preliminare prima di una delle
            operazioni di cui ai punti da D1 a D14</li></ul></p>
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
      description: Dati destinatario
    DatiDestinatarioFormularioModel:
      title: DatiDestinatarioFormularioModel
      required:
        - codice_fiscale
        - denominazione
        - indirizzo
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiDestinatarioFormularioBaseModel'
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        indirizzo:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Indirizzo
      description: Dati destinatario
    DatiDestinatarioFormularioResultModel:
      title: DatiDestinatarioFormularioResultModel
      required:
        - codice_fiscale
        - denominazione
        - indirizzo
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        indirizzo:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Indirizzo
        num_iscr_sito:
          type: string
          description: Numero iscrizione dell'unità locale
          nullable: true
        autorizzazione:
          allOf:
            - $ref: '#/components/schemas/AutorizzazioneModel'
          description: >-
            Autorizzazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.
          nullable: true
        attivita:
          allOf:
            - $ref: '#/components/schemas/OperazioniRecuperoSmaltimento'
          description: >-
            Attività di recupero o smaltimento a destinazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.<p>Valori ammessi:<ul
            style="margin:0"><li><i>R1</i> - Utilizzazione principale come
            combustibile o come altro mezzo per produrre
            energia</li><li><i>R2</i> - Rigenerazione/recupero di
            solventi</li><li><i>R3</i> - Riciclo/recupero delle sostanze
            organiche non utilizzate come solventi</li><li><i>R4</i> -
            Riciclo/recupero dei metalli e dei composti
            metallici</li><li><i>R5</i> - Riciclo/recupero di altre sostanze
            inorganiche</li><li><i>R6</i> - Rigenerazione degli acidi o delle
            basi</li><li><i>R7</i> - Recupero dei prodotti che servono a captare
            gli inquinanti</li><li><i>R8</i> - Recupero dei prodotti provenienti
            dai catalizzatori</li><li><i>R9</i> - Rigenerazione o altri
            reimpieghi degli oli</li><li><i>R10</i> - Spandimento sul suolo a
            beneficio dell'agricoltura o dell'ecologia</li><li><i>R11</i> -
            Utilizzazione di rifiuti ottenuti da una delle operazioni indicate
            da R1 a R10</li><li><i>R12</i> - Scambio di rifiuti per sottoporli a
            una delle operazioni indicate da R1 a R11</li><li><i>R13</i> - Messa
            in riserva di rifiuti per sottoporli a una delle operazioni indicate
            nei punti da R1 a R12</li><li><i>D1</i> - Deposito sul o nel
            suolo</li><li><i>D2</i> - Trattamento in ambiente
            terrestre</li><li><i>D3</i> - Iniezioni in
            profondità</li><li><i>D4</i> - Lagunaggio</li><li><i>D5</i> - Messa
            in discarica specialmente allestita</li><li><i>D6</i> - Scarico dei
            rifiuti solidi nell'ambiente idrico eccetto
            l'immersione</li><li><i>D7</i> - Immersione, compreso il
            seppellimento nel sottosuolo marino</li><li><i>D8</i> - Trattamento
            biologico non specificato altrove nel presente
            allegato</li><li><i>D9</i> - Trattamento fisico-chimico non
            specificato altrove nel presente allegato</li><li><i>D10</i> -
            Incenerimento a terra</li><li><i>D11</i> - Incenerimento in
            mare</li><li><i>D12</i> - Deposito permanente</li><li><i>D13</i> -
            Raggruppamento preliminare prima di una delle operazioni di cui ai
            punti da D1 a D12</li><li><i>D14</i> - Ricondizionamento preliminare
            prima di una delle operazioni di cui ai punti da D1 a
            D13</li><li><i>D15</i> - Deposito preliminare prima di una delle
            operazioni di cui ai punti da D1 a D14</li></ul></p>
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
    DatiDestinatarioFormularioSitoModel:
      title: DatiDestinatarioFormularioSitoModel
      required:
        - num_iscr_sito
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiDestinatarioFormularioBaseModel'
      properties:
        num_iscr_sito:
          minLength: 1
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          description: Numero di iscrizione al RENTRI
      description: Dati destinatario
    DatiDestinatarioSuccessivoResultModel:
      title: DatiDestinatarioSuccessivoResultModel
      required:
        - codice_fiscale
        - denominazione
        - indirizzo
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        indirizzo:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Indirizzo
        id_destinatario:
          type: integer
          format: int32
          nullable: true
          deprecated: true
        dati_firma:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma per l'inserimento del nuovo destinatario
          nullable: true
        num_iscr_sito:
          type: string
          description: Numero iscrizione dell'unità locale
          nullable: true
        autorizzazione:
          allOf:
            - $ref: '#/components/schemas/AutorizzazioneModel'
          description: >-
            Autorizzazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.
          nullable: true
        attivita:
          allOf:
            - $ref: '#/components/schemas/OperazioniRecuperoSmaltimento'
          description: >-
            Attività di recupero o smaltimento a destinazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.<p>Valori ammessi:<ul
            style="margin:0"><li><i>R1</i> - Utilizzazione principale come
            combustibile o come altro mezzo per produrre
            energia</li><li><i>R2</i> - Rigenerazione/recupero di
            solventi</li><li><i>R3</i> - Riciclo/recupero delle sostanze
            organiche non utilizzate come solventi</li><li><i>R4</i> -
            Riciclo/recupero dei metalli e dei composti
            metallici</li><li><i>R5</i> - Riciclo/recupero di altre sostanze
            inorganiche</li><li><i>R6</i> - Rigenerazione degli acidi o delle
            basi</li><li><i>R7</i> - Recupero dei prodotti che servono a captare
            gli inquinanti</li><li><i>R8</i> - Recupero dei prodotti provenienti
            dai catalizzatori</li><li><i>R9</i> - Rigenerazione o altri
            reimpieghi degli oli</li><li><i>R10</i> - Spandimento sul suolo a
            beneficio dell'agricoltura o dell'ecologia</li><li><i>R11</i> -
            Utilizzazione di rifiuti ottenuti da una delle operazioni indicate
            da R1 a R10</li><li><i>R12</i> - Scambio di rifiuti per sottoporli a
            una delle operazioni indicate da R1 a R11</li><li><i>R13</i> - Messa
            in riserva di rifiuti per sottoporli a una delle operazioni indicate
            nei punti da R1 a R12</li><li><i>D1</i> - Deposito sul o nel
            suolo</li><li><i>D2</i> - Trattamento in ambiente
            terrestre</li><li><i>D3</i> - Iniezioni in
            profondità</li><li><i>D4</i> - Lagunaggio</li><li><i>D5</i> - Messa
            in discarica specialmente allestita</li><li><i>D6</i> - Scarico dei
            rifiuti solidi nell'ambiente idrico eccetto
            l'immersione</li><li><i>D7</i> - Immersione, compreso il
            seppellimento nel sottosuolo marino</li><li><i>D8</i> - Trattamento
            biologico non specificato altrove nel presente
            allegato</li><li><i>D9</i> - Trattamento fisico-chimico non
            specificato altrove nel presente allegato</li><li><i>D10</i> -
            Incenerimento a terra</li><li><i>D11</i> - Incenerimento in
            mare</li><li><i>D12</i> - Deposito permanente</li><li><i>D13</i> -
            Raggruppamento preliminare prima di una delle operazioni di cui ai
            punti da D1 a D12</li><li><i>D14</i> - Ricondizionamento preliminare
            prima di una delle operazioni di cui ai punti da D1 a
            D13</li><li><i>D15</i> - Deposito preliminare prima di una delle
            operazioni di cui ai punti da D1 a D14</li></ul></p>
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
    DatiDestinatarioTrasmissioneModel:
      title: DatiDestinatarioTrasmissioneModel
      required:
        - codice_fiscale
        - denominazione
        - indirizzo
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        indirizzo:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Indirizzo
        num_iscr_sito:
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          nullable: true
        autorizzazione:
          allOf:
            - $ref: '#/components/schemas/AutorizzazioneModel'
          description: >-
            Autorizzazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.
          nullable: true
        attivita:
          allOf:
            - $ref: '#/components/schemas/OperazioniRecuperoSmaltimento'
          description: >-
            Attività di recupero o smaltimento a destinazione.


            Il valore è sempre necessario tranne quando l'unità locale del
            destinatario coincide con quella del produttore ed il rifiuto è
            stato prodotto fuori dall'unità locale.<p>Valori ammessi:<ul
            style="margin:0"><li><i>R1</i> - Utilizzazione principale come
            combustibile o come altro mezzo per produrre
            energia</li><li><i>R2</i> - Rigenerazione/recupero di
            solventi</li><li><i>R3</i> - Riciclo/recupero delle sostanze
            organiche non utilizzate come solventi</li><li><i>R4</i> -
            Riciclo/recupero dei metalli e dei composti
            metallici</li><li><i>R5</i> - Riciclo/recupero di altre sostanze
            inorganiche</li><li><i>R6</i> - Rigenerazione degli acidi o delle
            basi</li><li><i>R7</i> - Recupero dei prodotti che servono a captare
            gli inquinanti</li><li><i>R8</i> - Recupero dei prodotti provenienti
            dai catalizzatori</li><li><i>R9</i> - Rigenerazione o altri
            reimpieghi degli oli</li><li><i>R10</i> - Spandimento sul suolo a
            beneficio dell'agricoltura o dell'ecologia</li><li><i>R11</i> -
            Utilizzazione di rifiuti ottenuti da una delle operazioni indicate
            da R1 a R10</li><li><i>R12</i> - Scambio di rifiuti per sottoporli a
            una delle operazioni indicate da R1 a R11</li><li><i>R13</i> - Messa
            in riserva di rifiuti per sottoporli a una delle operazioni indicate
            nei punti da R1 a R12</li><li><i>D1</i> - Deposito sul o nel
            suolo</li><li><i>D2</i> - Trattamento in ambiente
            terrestre</li><li><i>D3</i> - Iniezioni in
            profondità</li><li><i>D4</i> - Lagunaggio</li><li><i>D5</i> - Messa
            in discarica specialmente allestita</li><li><i>D6</i> - Scarico dei
            rifiuti solidi nell'ambiente idrico eccetto
            l'immersione</li><li><i>D7</i> - Immersione, compreso il
            seppellimento nel sottosuolo marino</li><li><i>D8</i> - Trattamento
            biologico non specificato altrove nel presente
            allegato</li><li><i>D9</i> - Trattamento fisico-chimico non
            specificato altrove nel presente allegato</li><li><i>D10</i> -
            Incenerimento a terra</li><li><i>D11</i> - Incenerimento in
            mare</li><li><i>D12</i> - Deposito permanente</li><li><i>D13</i> -
            Raggruppamento preliminare prima di una delle operazioni di cui ai
            punti da D1 a D12</li><li><i>D14</i> - Ricondizionamento preliminare
            prima di una delle operazioni di cui ai punti da D1 a
            D13</li><li><i>D15</i> - Deposito preliminare prima di una delle
            operazioni di cui ai punti da D1 a D14</li></ul></p>
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
    DatiDestinazioniSuccessiveResultModel:
      type: object
      properties:
        destinatario:
          title: DatiDestinatarioSuccessivoResultModel
          allOf:
            - $ref: '#/components/schemas/DatiDestinatarioSuccessivoResultModel'
          description: Dati del nuovo destinatario
          nullable: true
        accettazione:
          allOf:
            - $ref: '#/components/schemas/DatiAccettazioneResultModel'
          description: Dati di accettazione del rifiuto del nuovo destinatario
          nullable: true
      additionalProperties: false
    DatiDestinazioniSuccessiveTrasmissioniModel:
      type: object
      properties:
        destinatario:
          title: DatiDestinatarioFormularioModel
          allOf:
            - $ref: '#/components/schemas/DatiDestinatarioFormularioModel'
          description: Dati destinatario
          nullable: true
        accettazione:
          allOf:
            - $ref: '#/components/schemas/DatiAccettazioneModel'
          description: Dati accettazione
          nullable: true
      additionalProperties: false
    DatiFirmaResult:
      type: object
      properties:
        denominazione_firmatario:
          type: string
          description: Nome intestatario certificato di firma
          nullable: true
        identificativo_firmatario:
          type: string
          description: Codice fiscale estratto dal certificato di firma
          nullable: true
        data_firma:
          type: string
          description: Data della firma
          format: date-time
          nullable: true
        identificativo_utente:
          type: string
          description: Utente a cui è da attribuire l'operazione di firma
          nullable: true
        credentials_id:
          type: string
          description: Identificativo delle credenziali che hanno autorizzato la firma
          nullable: true
        nome_certificato_ca:
          type: string
          description: >-
            Distinguished Name (DN) della CA che ha rilasciato il certificato di
            firma
          nullable: true
      additionalProperties: false
    DatiIntermediariFormularioModel:
      required:
        - codice_fiscale
        - denominazione
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
      additionalProperties: false
      description: Dati intermediario
    DatiNotificaPushCaricaCopiaDigitaleModel:
      type: object
      properties:
        proprieta:
          allOf:
            - $ref: >-
                #/components/schemas/ProprietaDatiNotificaPushCaricaCopiaDigitaleModel
          description: Proprietà specifiche della notifica
          nullable: true
        tipo:
          type: string
          description: Tipo di notifica
          nullable: true
      additionalProperties: false
      description: Dati della notifica push per il caricamento della copia digitale
    DatiPartenzaModel:
      required:
        - destinatario
        - rifiuto
        - trasportatori
      type: object
      properties:
        numero_fir:
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
          description: >-
            Numero di vidimazione da attribuire al nuovo FIR digitale.

            Qualora non venga specificato, il sistema ne assegnerà uno
            automaticamente.
          nullable: true
        produttore:
          oneOf:
            - $ref: '#/components/schemas/DatiProduttoreFormularioModel'
            - $ref: '#/components/schemas/DatiProduttoreFormularioSitoModel'
          description: Produttore
          nullable: true
        destinatario:
          oneOf:
            - $ref: '#/components/schemas/DatiDestinatarioFormularioModel'
            - $ref: '#/components/schemas/DatiDestinatarioFormularioSitoModel'
          description: Destinatario
        trasportatori:
          minItems: 1
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/DatiTrasportatoreFormularioModel'
              - $ref: '#/components/schemas/DatiTrasportatoreFormularioSitoModel'
            description: Dati trasportatore
          description: Trasportatori
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/DatiIntermediariFormularioModel'
          description: Intermediari
          nullable: true
        rifiuto:
          allOf:
            - $ref: '#/components/schemas/DatiRifiutoModel'
          description: Caratteristiche del rifiuto
        trasbordo_parziale_origine:
          allOf:
            - $ref: '#/components/schemas/DatiTrasbordoParzialeOrigineModel'
          description: >-
            Dati relativi al trasbordo parziale da cui prende origine il
            formulario.

            Il dato deve essere valorizzato solo se il formulario prende origine
            da un trasbordo parziale.

            Se il dato viene valorizzato, la proprietà "produttore" non deve
            essere valorizzata.
          nullable: true
        annotazioni:
          maxLength: 10000
          type: string
          description: Annotazioni
          nullable: true
      additionalProperties: false
      description: Dati di partenza del formulario
    DatiPartenzaResultModel:
      type: object
      properties:
        data_emissione:
          type: string
          description: Data di emissione del formulario
          format: date-time
          nullable: true
        produttore:
          title: DatiProduttoreFormularioResultModel
          allOf:
            - $ref: '#/components/schemas/DatiProduttoreFormularioResultModel'
          description: Dati del produttore
          nullable: true
        destinatario:
          title: DatiDestinatarioFormularioResultModel
          allOf:
            - $ref: '#/components/schemas/DatiDestinatarioFormularioResultModel'
          description: Dati del destinatario
          nullable: true
        trasportatori:
          type: array
          items:
            $ref: '#/components/schemas/DatiTrasportatoreFormularioResultModel'
          description: Dati dei trasportatori
          nullable: true
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/DatiIntermediariFormularioModel'
          description: Dati degli intermediari
          nullable: true
        rifiuto:
          allOf:
            - $ref: '#/components/schemas/DatiRifiutoModel'
          description: Dati del rifiuto
          nullable: true
        trasbordo_parziale_origine:
          allOf:
            - $ref: '#/components/schemas/DatiTrasbordoParzialeOrigineResultModel'
          description: >-
            Dati del produttore originario indicato nel caso di creazione del
            formulario a seguito di un trasbordo parziale
          nullable: true
        dati_firma_produttore:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma del produttore
          nullable: true
        numero_fir:
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
          description: >-
            Numero di vidimazione da attribuire al nuovo FIR digitale.

            Qualora non venga specificato, il sistema ne assegnerà uno
            automaticamente.
          nullable: true
        annotazioni:
          maxLength: 10000
          type: string
          description: Annotazioni
          nullable: true
      additionalProperties: false
    DatiPerFirmaModel:
      required:
        - certificato
      type: object
      properties:
        certificato:
          minLength: 1
          type: string
          description: Certificato in base64
        tipo_firma:
          allOf:
            - $ref: '#/components/schemas/TipoFirma'
          description: >-
            Indica i dati del formulario che si intendono firmare.

            Il dato è richiesto solo quando non può essere dedotto dal contesto,
            in particolare quando il formulario è nello stato di attesa delle
            firme sia del 

            produttore che del trasportatore, ed il chiamante ha visibilità su
            entrambi i soggetti. In tutti gli altri casi il valore eventualmente

            specificato viene ignorato.<p>Valori ammessi:<ul
            style="margin:0"><li><i>Produttore</i> - Da indicare quando il
            produttore intende firmare il formulario alla
            partenza.</li><li><i>Trasportatore</i> - Da indicare quando il
            trasportatore intende firmare il formulario alla
            partenza.</li></ul></p>
          nullable: true
      additionalProperties: false
    DatiProduttoreFormularioBaseModel:
      type: object
      properties:
        luogo_produzione:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Luogo di produzione se diverso da indirizzo
          nullable: true
        autorizzazione:
          allOf:
            - $ref: '#/components/schemas/AutorizzazioneModel'
          description: Autorizzazione
          nullable: true
        detentore:
          type: boolean
          description: >-
            Specifica se il dato del produttore è riferito al detentore del
            rifiuto
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
      description: Dati produttore
    DatiProduttoreFormularioModel:
      title: DatiProduttoreFormularioModel
      required:
        - codice_fiscale
        - denominazione
        - indirizzo
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiProduttoreFormularioBaseModel'
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        indirizzo:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Indirizzo
      description: Dati produttore
    DatiProduttoreFormularioResultModel:
      title: DatiProduttoreFormularioResultModel
      required:
        - codice_fiscale
        - denominazione
        - indirizzo
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        indirizzo:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Indirizzo
        num_iscr_sito:
          type: string
          description: Numero iscrizione dell'unità locale
          nullable: true
        luogo_produzione:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Luogo di produzione se diverso da indirizzo
          nullable: true
        autorizzazione:
          allOf:
            - $ref: '#/components/schemas/AutorizzazioneModel'
          description: Autorizzazione
          nullable: true
        detentore:
          type: boolean
          description: >-
            Specifica se il dato del produttore è riferito al detentore del
            rifiuto
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
    DatiProduttoreFormularioSitoModel:
      title: DatiProduttoreFormularioSitoModel
      required:
        - num_iscr_sito
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiProduttoreFormularioBaseModel'
      properties:
        num_iscr_sito:
          minLength: 1
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          description: Numero di iscrizione al RENTRI
      description: Dati produttore
    DatiProduttoreOriginarioModel:
      required:
        - codice_fiscale
        - denominazione
      type: object
      properties:
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
      additionalProperties: false
    DatiProduttoreTrasmissioneModel:
      title: DatiProduttoreTrasmissioneModel
      required:
        - codice_fiscale
        - denominazione
        - indirizzo
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        indirizzo:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Indirizzo
        num_iscr_sito:
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          nullable: true
        luogo_produzione:
          allOf:
            - $ref: '#/components/schemas/IndirizzoModel'
          description: Luogo di produzione se diverso da indirizzo
          nullable: true
        autorizzazione:
          allOf:
            - $ref: '#/components/schemas/AutorizzazioneModel'
          description: Autorizzazione
          nullable: true
        detentore:
          type: boolean
          description: >-
            Specifica se il dato del produttore è riferito al detentore del
            rifiuto
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
    DatiRifiutoModel:
      required:
        - codice_eer
        - provenienza
        - stato_fisico
      type: object
      properties:
        codice_eer:
          maxLength: 8
          minLength: 1
          type: string
          description: Codice EER
        descrizione:
          maxLength: 500
          type: string
          description: >-
            Descrizione del rifiuto, richiesta se il Codice EER specificato è di
            tipo .99
          nullable: true
        provenienza:
          allOf:
            - $ref: '#/components/schemas/ProvenienzaRifiuto'
          description: >-
            Provenienza<p>Valori ammessi:<ul style="margin:0"><li><i>U</i> -
            Urbano</li><li><i>S</i> - Speciale</li></ul></p>
        caratteristiche_chimico_fisiche:
          maxLength: 500
          type: string
          description: Caratteristiche chimico fisiche del rifiuto
          nullable: true
        caratteristiche_pericolo:
          type: array
          items:
            $ref: '#/components/schemas/CaratteristichePericolo'
          description: >-
            Classificazione di pericolo (HP), richiesta se e solo se il Codice
            EER si riferisce ad un rifiuto pericoloso<p>Valori ammessi:<ul
            style="margin:0"><li><i>HP01</i> - Esplosivo</li><li><i>HP02</i> -
            Comburente</li><li><i>HP03</i> - Infiammabile</li><li><i>HP04</i> -
            Irritante - Irritazione cutanea e lesioni
            oculari</li><li><i>HP05</i> - Tossicità specifica per organi
            bersaglio (STOT)/Tossicità in caso di
            respirazione</li><li><i>HP06</i> - Tossicità
            acuta</li><li><i>HP07</i> - Cancerogeno</li><li><i>HP08</i> -
            Corrosivo</li><li><i>HP09</i> - Infettivo</li><li><i>HP10</i> -
            Tossico per la riproduzione</li><li><i>HP11</i> -
            Mutageno</li><li><i>HP12</i> - Liberazione di gas a tossicità
            acuta</li><li><i>HP13</i> - Sensibilizzante</li><li><i>HP14</i> -
            Ecotossico</li><li><i>HP15</i> - Rifiuto che non possiede
            direttamente una delle caratteristiche di pericolo già menzionate,
            ma può manifestarla successivamente</li></ul></p>
          nullable: true
        stato_fisico:
          allOf:
            - $ref: '#/components/schemas/StatiFisici'
          description: >-
            Stato fisico<p>Valori ammessi:<ul style="margin:0"><li><i>SP</i> -
            In polvere o pulverulento</li><li><i>S</i> -
            Solido</li><li><i>FP</i> - Fangoso</li><li><i>L</i> -
            Liquido</li><li><i>VS</i> - Vischioso sciropposo</li></ul></p>
        quantita:
          allOf:
            - $ref: '#/components/schemas/QuantitaModel'
          description: Quantità
          nullable: true
        verificato_in_partenza:
          type: boolean
          description: Verificato in partenza
          nullable: true
        trasporto_adr:
          type: boolean
          description: Trasporto ADR
          nullable: true
        dati_adr:
          allOf:
            - $ref: '#/components/schemas/NormativaADRModel'
          description: >-
            Dati ADR.


            Il dato non deve essere indicato se la proprietà "trasporto_adr" è
            diversa da true.
          nullable: true
        analisi_classificazione:
          allOf:
            - $ref: '#/components/schemas/AnalisiClassificazioneModel'
          description: Analisi/Classificazione
          nullable: true
        numero_colli:
          maxLength: 50
          type: string
          description: |-
            Numero di colli. 
            Specificare un valore in caso non si imposti "rinfusa" a <i>true</i>
          nullable: true
        rinfusa:
          type: boolean
          description: >-
            Rinfusa. 

            Se valorizzato a <i>true</i> indica che il rifiuto non è
            partizionato in colli.
          nullable: true
      additionalProperties: false
      description: Identificazione del rifiuto
    DatiSostaTecnicaModel:
      required:
        - data_ora_ripresa
        - data_ora_sospensione
        - luogo_stazionamento
      type: object
      properties:
        luogo_stazionamento:
          maxLength: 1000
          minLength: 1
          type: string
        data_ora_sospensione:
          type: string
          description: Formato ISO 8601 UTC
          format: date-time
        data_ora_ripresa:
          type: string
          description: Formato ISO 8601 UTC
          format: date-time
      additionalProperties: false
    DatiSostaTecnicaResultModel:
      required:
        - data_ora_ripresa
        - data_ora_sospensione
        - luogo_stazionamento
      type: object
      properties:
        trasportatore_id:
          type: integer
          description: >-
            Riferimento al trasportatore che ha effettuato la sosta tecnica nel
            contesto del FIR
          format: int32
          nullable: true
        dati_firma:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati di firma del trasportatore che registra la sosta tecnica
          nullable: true
        luogo_stazionamento:
          maxLength: 1000
          minLength: 1
          type: string
        data_ora_sospensione:
          type: string
          description: Formato ISO 8601 UTC
          format: date-time
        data_ora_ripresa:
          type: string
          description: Formato ISO 8601 UTC
          format: date-time
      additionalProperties: false
    DatiSostaTecnicaTrasmissioneModel:
      required:
        - data_ora_ripresa
        - data_ora_sospensione
        - luogo_stazionamento
        - trasportatore_id
      type: object
      properties:
        trasportatore_id:
          maximum: 255
          minimum: 1
          type: integer
          description: >-
            Id del trasportatore definito all'interno dei dati che vengono
            trasmessi
          format: int32
        luogo_stazionamento:
          maxLength: 1000
          minLength: 1
          type: string
        data_ora_sospensione:
          type: string
          description: Formato ISO 8601 UTC
          format: date-time
        data_ora_ripresa:
          type: string
          description: Formato ISO 8601 UTC
          format: date-time
      additionalProperties: false
    DatiTrasbordoParzialeModel:
      required:
        - causale
        - numero_fir
        - quantita_residua
        - trasportatore
      type: object
      properties:
        numero_fir:
          minLength: 1
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
          description: >-
            Numero FIR del formulario in cui viene trasbordato parzialmente il
            rifiuto
        trasportatore:
          allOf:
            - $ref: '#/components/schemas/DatiTrasportatoreTrasbordoModel'
          description: >-
            Trasportatore che prende in carico il rifiuto parzialmente
            trasbordato
        quantita_residua:
          allOf:
            - $ref: '#/components/schemas/QuantitaModel'
          description: Quantità residua del rifiuto nel formulario di origine
        causale:
          maxLength: 1000
          minLength: 1
          type: string
          description: Causale del trasbordo parziale
      additionalProperties: false
    DatiTrasbordoParzialeOrigineModel:
      required:
        - causale
        - numero_fir_origine
        - produttore_originario
      type: object
      properties:
        numero_fir_origine:
          minLength: 1
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
          description: >-
            Numero FIR del formulario che ha subito il trasbordo parziale da cui
            prende origine il nuovo formulario
        produttore_originario:
          allOf:
            - $ref: '#/components/schemas/DatiProduttoreOriginarioModel'
          description: >-
            Dati del produttore del rifiuto originario come compariva nel
            formulario di origine
        causale:
          maxLength: 1000
          minLength: 1
          type: string
          description: Causale del trasbordo parziale
      additionalProperties: false
    DatiTrasbordoParzialeOrigineResultModel:
      type: object
      properties:
        numero_fir_origine:
          type: string
          description: >-
            Numero FIR dal quale ha avuto origine questo FIR a seguito del
            trasbordo parziale
          nullable: true
        produttore_originario:
          allOf:
            - $ref: '#/components/schemas/DatiProduttoreOriginarioModel'
          description: >-
            Produttore indicato nel FIR dal quale ha avuto origine questo FIR a
            seguito del trasbordo parziale
          nullable: true
        causale:
          type: string
          description: Causale del trasbordo parziale da cui ha avuto origine questo FIR
          nullable: true
      additionalProperties: false
    DatiTrasbordoParzialeResultModel:
      required:
        - causale
        - numero_fir
        - quantita_residua
      type: object
      properties:
        trasportatore:
          allOf:
            - $ref: '#/components/schemas/DatiTrasportatoreModel'
          description: Dati del trasportatore che prende parzialmente in carico il rifiuto
          nullable: true
        trasportatore_id:
          type: integer
          description: >-
            Riferimento al trasportatore che ha effettuato il trasbordo parziale
            nel contesto del FIR
          format: int32
          nullable: true
        dati_firma:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati di firma del trasportatore che registra il trasbordo parziale
          nullable: true
        numero_fir:
          minLength: 1
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
          description: >-
            Numero FIR del formulario in cui viene trasbordato parzialmente il
            rifiuto
        quantita_residua:
          allOf:
            - $ref: '#/components/schemas/QuantitaModel'
          description: Quantità residua del rifiuto nel formulario di origine
        causale:
          maxLength: 1000
          minLength: 1
          type: string
          description: Causale del trasbordo parziale
      additionalProperties: false
    DatiTrasbordoParzialeTrasmissioneModel:
      required:
        - causale
        - numero_fir
        - quantita_residua
        - trasportatore
        - trasportatore_id
      type: object
      properties:
        trasportatore_id:
          maximum: 255
          minimum: 1
          type: integer
          description: >-
            Id del trasportatore definito all'interno dei dati che vengono
            trasmessi
          format: int32
        trasportatore:
          allOf:
            - $ref: '#/components/schemas/DatiTrasportatoreTrasbordoModel'
          description: Dati trasportatore per il trasbordo parziale
        numero_fir:
          minLength: 1
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
          description: >-
            Numero FIR del formulario in cui viene trasbordato parzialmente il
            rifiuto
        quantita_residua:
          allOf:
            - $ref: '#/components/schemas/QuantitaModel'
          description: Quantità residua del rifiuto nel formulario di origine
        causale:
          maxLength: 1000
          minLength: 1
          type: string
          description: Causale del trasbordo parziale
      additionalProperties: false
    DatiTrasbordoTotaleModel:
      required:
        - presa_in_carico
        - trasportatore
      type: object
      properties:
        trasportatore:
          oneOf:
            - $ref: '#/components/schemas/DatiTrasportatoreFormularioModel'
            - $ref: '#/components/schemas/DatiTrasportatoreFormularioSitoModel'
          description: Dati trasportatore
        presa_in_carico:
          title: DatiTrasportoTerrestreModel
          allOf:
            - $ref: '#/components/schemas/DatiTrasportoTerrestreModel'
          description: Dati del trasporto terrestre
      additionalProperties: false
    DatiTrasbordoTotaleResultModel:
      type: object
      properties:
        trasportatore:
          title: DatiTrasportatoreFormularioResultModel
          allOf:
            - $ref: '#/components/schemas/DatiTrasportatoreFormularioResultModel'
          description: Dati del nuovo trasportatore
          nullable: true
        presa_in_carico:
          title: DatiTrasportoTerrestreResultModel
          allOf:
            - $ref: '#/components/schemas/DatiTrasportoTerrestreResultModel'
          description: Dati relativi alla firma sui dati di trasporto
          nullable: true
        trasportatore_id:
          type: integer
          description: >-
            Riferimento al trasportatore che ha effettuato il trasbordo totale
            nel contesto del FIR
          format: int32
          nullable: true
      additionalProperties: false
    DatiTrasbordoTotaleTrasmissioneModel:
      required:
        - presa_in_carico
        - trasportatore
        - trasportatore_id
      type: object
      properties:
        trasportatore_id:
          maximum: 255
          minimum: 1
          type: integer
          description: >-
            Id del trasportatore definito all'interno dei dati che vengono
            trasmessi a cui è riferito il trasbordo
          format: int32
        id_trasportatore_trasbordo:
          type: integer
          description: "Id del trasportatore definito all'interno dei dati che vengono trasmessi a cui è riferito il trasbordo\r\n\r\n \r\n⚠️ Deprecato: utilizzare \"trasportatore_id\""
          format: int32
          nullable: true
          deprecated: true
        trasportatore:
          title: DatiTrasportatoreTrasmissioneModel
          allOf:
            - $ref: '#/components/schemas/DatiTrasportatoreTrasmissioneModel'
        presa_in_carico:
          title: DatiTrasportoTrasmissioneBaseModel
          oneOf:
            - $ref: '#/components/schemas/DatiTrasportoTerrestreTrasmissioneModel'
      additionalProperties: false
    DatiTrasmissioneFormularioModel:
      required:
        - dati_partenza
      type: object
      properties:
        dati_partenza:
          allOf:
            - $ref: '#/components/schemas/DatiTrasmissionePartenzaModel'
        dati_trasporto:
          type: array
          items:
            title: DatiTrasportoTrasmissioneBaseModel
            oneOf:
              - $ref: '#/components/schemas/DatiTrasportoFerroviarioTrasmissioneModel'
              - $ref: '#/components/schemas/DatiTrasportoTerrestreTrasmissioneModel'
              - $ref: '#/components/schemas/DatiTrasportoMarittimoTrasmissioneModel'
          nullable: true
        dati_accettazione:
          allOf:
            - $ref: '#/components/schemas/DatiAccettazioneModel'
          description: Dati accettazione
          nullable: true
        dati_annotazioni:
          type: array
          items:
            $ref: '#/components/schemas/DatiAnnotazioneModel'
          nullable: true
        dati_trasbordo_totale:
          allOf:
            - $ref: '#/components/schemas/DatiTrasbordoTotaleTrasmissioneModel'
          nullable: true
        dati_trasbordi_parziali:
          type: array
          items:
            $ref: '#/components/schemas/DatiTrasbordoParzialeTrasmissioneModel'
          nullable: true
        dati_soste_tecniche:
          type: array
          items:
            $ref: '#/components/schemas/DatiSostaTecnicaTrasmissioneModel'
          nullable: true
        dati_destinazioni_successive:
          type: array
          items:
            $ref: '#/components/schemas/DatiDestinazioniSuccessiveTrasmissioniModel'
          nullable: true
      additionalProperties: false
    DatiTrasmissionePartenzaModel:
      required:
        - data_emissione
        - destinatario
        - numero_fir
        - rifiuto
        - trasportatori
      type: object
      properties:
        numero_fir:
          minLength: 1
          pattern: "^([BCDFGHJKLMNPQRSTVWXYZ]{4,6})[ \t-/_]*([0-9]+)[ \t-/_]*([BCDFGHJKLMNPQRSTVWXYZ]{1,2})$"
          type: string
        produttore:
          title: DatiProduttoreTrasmissioneModel
          allOf:
            - $ref: '#/components/schemas/DatiProduttoreTrasmissioneModel'
          nullable: true
        trasbordo_parziale_origine:
          allOf:
            - $ref: '#/components/schemas/DatiTrasbordoParzialeOrigineModel'
          nullable: true
        destinatario:
          title: DatiDestinatarioTrasmissioneModel
          allOf:
            - $ref: '#/components/schemas/DatiDestinatarioTrasmissioneModel'
        trasportatori:
          type: array
          items:
            $ref: '#/components/schemas/DatiTrasportatoreTrasmissioneModel'
        data_emissione:
          type: string
          format: date-time
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/DatiIntermediariFormularioModel'
          description: Intermediari
          nullable: true
        rifiuto:
          allOf:
            - $ref: '#/components/schemas/DatiRifiutoModel'
          description: Caratteristiche del rifiuto
        annotazioni:
          maxLength: 10000
          type: string
          description: Annotazioni
          nullable: true
      additionalProperties: false
    DatiTrasportatoreFormularioBaseModel:
      required:
        - tipo_trasporto
      type: object
      properties:
        tipo_trasporto:
          allOf:
            - $ref: '#/components/schemas/TipoTrasporto'
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
      description: Dati trasportatore
    DatiTrasportatoreFormularioModel:
      title: DatiTrasportatoreFormularioModel
      required:
        - codice_fiscale
        - denominazione
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportatoreFormularioBaseModel'
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
      description: Dati trasportatore
    DatiTrasportatoreFormularioResultModel:
      title: DatiTrasportatoreFormularioResultModel
      required:
        - codice_fiscale
        - denominazione
        - tipo_trasporto
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        trasportatore_id:
          type: integer
          description: >-
            Riferimento al trasportatore nel contesto del FIR a cui sono da
            attribuire i dati di trasporto
          format: int32
          nullable: true
        num_iscr_sito:
          type: string
          description: Numero iscrizione dell'unità locale
          nullable: true
        tipo_trasporto:
          allOf:
            - $ref: '#/components/schemas/TipoTrasporto'
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
    DatiTrasportatoreFormularioSitoModel:
      title: DatiTrasportatoreFormularioSitoModel
      required:
        - num_iscr_sito
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportatoreFormularioBaseModel'
      properties:
        num_iscr_sito:
          minLength: 1
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          description: Numero di iscrizione al RENTRI
      description: Dati trasportatore
    DatiTrasportatoreModel:
      required:
        - codice_fiscale
        - denominazione
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
      additionalProperties: false
    DatiTrasportatoreTrasbordoModel:
      required:
        - codice_fiscale
        - denominazione
      type: object
      properties:
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
      additionalProperties: false
      description: Dati trasportatore per il trasbordo parziale
    DatiTrasportatoreTrasmissioneModel:
      title: DatiTrasportatoreTrasmissioneModel
      required:
        - codice_fiscale
        - denominazione
        - tipo_trasporto
        - trasportatore_id
      type: object
      properties:
        denominazione:
          maxLength: 1000
          minLength: 1
          type: string
          description: Denominazione del soggetto
        codice_fiscale:
          maxLength: 20
          minLength: 5
          type: string
          description: >-
            Codice fiscale del soggetto.

            In base alla nazione ("nazione_id") verranno effettuate le seguenti
            validazioni:

            - IT: validazioni formale per codice fiscale personale (16
            caratteri) o formato partita IVA (11 cifre decimali)

            - UE: da 5 a 20 caratteri con successiva validazione formale
            specifica per il paese UE

            - Extra UE: da 5 a 20 caratteri
        nazione_id:
          maxLength: 2
          type: string
          description: >-
            Codice ISO 3166-1 alpha-2 della nazione, in caso di "IT" è possibile
            omettere.


            Vengono accettati solo codici previsti dallo standard ISO 3166-1
            alpha-2.


            Vedi API di codifica: <i>GET /codifiche/v1.0/nazioni</i>
          nullable: true
        trasportatore_id:
          maximum: 255
          minimum: 1
          type: integer
          description: Id del trasportatore all'interno dei dati che vengono trasmessi
          format: int32
        num_iscr_sito:
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          nullable: true
        tipo_trasporto:
          allOf:
            - $ref: '#/components/schemas/TipoTrasporto'
        numero_iscrizione_albo:
          maxLength: 10
          pattern: '^([A-Za-z]{2})/([0-9]{6})$'
          type: string
          description: Iscrizione Albo
          nullable: true
    DatiTrasportoBaseModel:
      required:
        - data_ora_inizio_trasporto
      type: object
      properties:
        data_ora_inizio_trasporto:
          type: string
          description: Data e ora inizio trasporto (formato ISO 8601 UTC)
          format: date-time
        annotazioni:
          maxLength: 10000
          type: string
          description: Annotazioni
          nullable: true
      description: Dati del trasporto base
    DatiTrasportoFerroviarioModel:
      title: DatiTrasportoFerroviarioModel
      required:
        - treno
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportoBaseModel'
      properties:
        treno:
          maxLength: 50
          minLength: 1
          type: string
        rid:
          type: boolean
          nullable: true
        tratta:
          maxLength: 50
          type: string
          nullable: true
    DatiTrasportoFerroviarioResultModel:
      title: DatiTrasportoFerroviarioResultModel
      required:
        - data_ora_inizio_trasporto
        - treno
      type: object
      properties:
        tipo_trasporto:
          allOf:
            - $ref: '#/components/schemas/TipoTrasporto'
          description: Tipo del trasporto
          nullable: true
        dati_firma_trasportatore:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma sui dati di trasporto
          nullable: true
        trasportatore_id:
          type: integer
          description: >-
            Riferimento al trasportatore nel contesto del FIR a cui sono da
            attribuire i dati di trasporto
          format: int32
          nullable: true
        treno:
          maxLength: 50
          minLength: 1
          type: string
        rid:
          type: boolean
          nullable: true
        tratta:
          maxLength: 50
          type: string
          nullable: true
        data_ora_inizio_trasporto:
          type: string
          description: Data e ora inizio trasporto (formato ISO 8601 UTC)
          format: date-time
        annotazioni:
          maxLength: 10000
          type: string
          description: Annotazioni
          nullable: true
    DatiTrasportoFerroviarioTrasmissioneModel:
      title: DatiTrasportoFerroviarioTrasmissioneModel
      required:
        - treno
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportoTrasmissioneBaseModel'
      properties:
        treno:
          maxLength: 50
          minLength: 1
          type: string
        tratta:
          maxLength: 50
          type: string
          nullable: true
        rid:
          type: boolean
          nullable: true
    DatiTrasportoMarittimoModel:
      title: DatiTrasportoMarittimoModel
      required:
        - nave
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportoBaseModel'
      properties:
        nave:
          maxLength: 50
          minLength: 1
          type: string
        imdg:
          type: boolean
          nullable: true
    DatiTrasportoMarittimoResultModel:
      title: DatiTrasportoMarittimoResultModel
      required:
        - data_ora_inizio_trasporto
        - nave
      type: object
      properties:
        tipo_trasporto:
          allOf:
            - $ref: '#/components/schemas/TipoTrasporto'
          description: Tipo del trasporto
          nullable: true
        dati_firma_trasportatore:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma sui dati di trasporto
          nullable: true
        trasportatore_id:
          type: integer
          description: >-
            Riferimento al trasportatore nel contesto del FIR a cui sono da
            attribuire i dati di trasporto
          format: int32
          nullable: true
        nave:
          maxLength: 50
          minLength: 1
          type: string
        imdg:
          type: boolean
          nullable: true
        data_ora_inizio_trasporto:
          type: string
          description: Data e ora inizio trasporto (formato ISO 8601 UTC)
          format: date-time
        annotazioni:
          maxLength: 10000
          type: string
          description: Annotazioni
          nullable: true
    DatiTrasportoMarittimoTrasmissioneModel:
      title: DatiTrasportoMarittimoTrasmissioneModel
      required:
        - nave
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportoTrasmissioneBaseModel'
      properties:
        nave:
          maxLength: 50
          minLength: 1
          type: string
        imdg:
          type: boolean
          nullable: true
    DatiTrasportoTerrestreModel:
      title: DatiTrasportoTerrestreModel
      required:
        - conducente
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportoBaseModel'
      properties:
        conducente:
          allOf:
            - $ref: '#/components/schemas/ConducenteModel'
          description: Conducente
        targa_automezzo:
          maxLength: 10
          type: string
          description: |-
            Targa automezzo. 
            Il dato è necessario se non si indica una targa per il rimorchio
          nullable: true
        targa_rimorchio:
          maxLength: 10
          type: string
          description: Targa rimorchio
          nullable: true
        percorso:
          maxLength: 250
          type: string
          description: Percorso (se diverso dal più breve)
          nullable: true
        presa_in_carico_rimorchio_precedente:
          type: boolean
          description: Significativo solo per i trasporti successivi al primo
          nullable: true
      description: Dati del trasporto terrestre
    DatiTrasportoTerrestreResultModel:
      title: DatiTrasportoTerrestreResultModel
      required:
        - conducente
        - data_ora_inizio_trasporto
      type: object
      properties:
        tipo_trasporto:
          allOf:
            - $ref: '#/components/schemas/TipoTrasporto'
          description: Tipo del trasporto
          nullable: true
        dati_firma_trasportatore:
          allOf:
            - $ref: '#/components/schemas/DatiFirmaResult'
          description: Dati relativi alla firma sui dati di trasporto
          nullable: true
        trasportatore_id:
          type: integer
          description: >-
            Riferimento al trasportatore nel contesto del FIR a cui sono da
            attribuire i dati di trasporto
          format: int32
          nullable: true
        conducente:
          allOf:
            - $ref: '#/components/schemas/ConducenteModel'
          description: Conducente
        targa_automezzo:
          maxLength: 10
          type: string
          description: |-
            Targa automezzo. 
            Il dato è necessario se non si indica una targa per il rimorchio
          nullable: true
        targa_rimorchio:
          maxLength: 10
          type: string
          description: Targa rimorchio
          nullable: true
        percorso:
          maxLength: 250
          type: string
          description: Percorso (se diverso dal più breve)
          nullable: true
        presa_in_carico_rimorchio_precedente:
          type: boolean
          description: Significativo solo per i trasporti successivi al primo
          nullable: true
        data_ora_inizio_trasporto:
          type: string
          description: Data e ora inizio trasporto (formato ISO 8601 UTC)
          format: date-time
        annotazioni:
          maxLength: 10000
          type: string
          description: Annotazioni
          nullable: true
    DatiTrasportoTerrestreTrasmissioneModel:
      title: DatiTrasportoTerrestreTrasmissioneModel
      required:
        - conducente
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportoTrasmissioneBaseModel'
      properties:
        conducente:
          allOf:
            - $ref: '#/components/schemas/ConducenteModel'
          description: Conducente
        targa_automezzo:
          maxLength: 10
          type: string
          nullable: true
        targa_rimorchio:
          maxLength: 10
          type: string
          nullable: true
        percorso:
          maxLength: 1000
          type: string
          nullable: true
        presa_in_carico_rimorchio_precedente:
          type: boolean
          description: Significativo solo per i trasporti successivi al primo
          nullable: true
    DatiTrasportoTrasmissioneBaseModel:
      title: DatiTrasportoTrasmissioneBaseModel
      required:
        - trasportatore_id
      type: object
      allOf:
        - $ref: '#/components/schemas/DatiTrasportoBaseModel'
      properties:
        trasportatore_id:
          maximum: 255
          minimum: 1
          type: integer
          description: >-
            Id del trasportatore definito all'interno dei dati che vengono
            trasmessi
          format: int32
    DestinatarioItemResult:
      type: object
      properties:
        attivita:
          allOf:
            - $ref: '#/components/schemas/OperazioniRecuperoSmaltimento'
          description: >-
            Attività di recupero o smaltimento a destinazione<p>Valori
            ammessi:<ul style="margin:0"><li><i>R1</i> - Utilizzazione
            principale come combustibile o come altro mezzo per produrre
            energia</li><li><i>R2</i> - Rigenerazione/recupero di
            solventi</li><li><i>R3</i> - Riciclo/recupero delle sostanze
            organiche non utilizzate come solventi</li><li><i>R4</i> -
            Riciclo/recupero dei metalli e dei composti
            metallici</li><li><i>R5</i> - Riciclo/recupero di altre sostanze
            inorganiche</li><li><i>R6</i> - Rigenerazione degli acidi o delle
            basi</li><li><i>R7</i> - Recupero dei prodotti che servono a captare
            gli inquinanti</li><li><i>R8</i> - Recupero dei prodotti provenienti
            dai catalizzatori</li><li><i>R9</i> - Rigenerazione o altri
            reimpieghi degli oli</li><li><i>R10</i> - Spandimento sul suolo a
            beneficio dell'agricoltura o dell'ecologia</li><li><i>R11</i> -
            Utilizzazione di rifiuti ottenuti da una delle operazioni indicate
            da R1 a R10</li><li><i>R12</i> - Scambio di rifiuti per sottoporli a
            una delle operazioni indicate da R1 a R11</li><li><i>R13</i> - Messa
            in riserva di rifiuti per sottoporli a una delle operazioni indicate
            nei punti da R1 a R12</li><li><i>D1</i> - Deposito sul o nel
            suolo</li><li><i>D2</i> - Trattamento in ambiente
            terrestre</li><li><i>D3</i> - Iniezioni in
            profondità</li><li><i>D4</i> - Lagunaggio</li><li><i>D5</i> - Messa
            in discarica specialmente allestita</li><li><i>D6</i> - Scarico dei
            rifiuti solidi nell'ambiente idrico eccetto
            l'immersione</li><li><i>D7</i> - Immersione, compreso il
            seppellimento nel sottosuolo marino</li><li><i>D8</i> - Trattamento
            biologico non specificato altrove nel presente
            allegato</li><li><i>D9</i> - Trattamento fisico-chimico non
            specificato altrove nel presente allegato</li><li><i>D10</i> -
            Incenerimento a terra</li><li><i>D11</i> - Incenerimento in
            mare</li><li><i>D12</i> - Deposito permanente</li><li><i>D13</i> -
            Raggruppamento preliminare prima di una delle operazioni di cui ai
            punti da D1 a D12</li><li><i>D14</i> - Ricondizionamento preliminare
            prima di una delle operazioni di cui ai punti da D1 a
            D13</li><li><i>D15</i> - Deposito preliminare prima di una delle
            operazioni di cui ai punti da D1 a D14</li></ul></p>
          nullable: true
        num_iscr_sito:
          type: string
          nullable: true
        denominazione:
          type: string
          nullable: true
        codice_fiscale:
          type: string
          nullable: true
        indirizzo:
          type: string
          nullable: true
        civico:
          type: string
          nullable: true
        comune_id:
          type: string
          nullable: true
        nazione_id:
          type: string
          nullable: true
        citta_estera:
          type: string
          nullable: true
      additionalProperties: false
      description: Dati anagrafici riassuntivi riferiti ad un destinatario
    DettaglioFormulario:
      type: object
      properties:
        stato_formulario:
          allOf:
            - $ref: '#/components/schemas/StatoFormulario'
          description: >-
            Stato del formulario<p>Valori ammessi:<ul
            style="margin:0"><li><i>InserimentoQuantita</i> - Il formulario
            necessita dei dati sulla quantità del
            rifiuto</li><li><i>InserimentoQuantitaTrasportoIniziale</i> - Il
            formulario necessita dei dati sulla quantità del rifiuto e dei dati
            del trasporto iniziale</li><li><i>InserimentoTrasportoIniziale</i> -
            Il formulario necessita dei dati del trasporto
            iniziale</li><li><i>FirmaProduttoreTrasportatoreIniziale</i> - Il
            formulario necessita della firma del produttore e del trasportatore
            iniziale</li><li><i>FirmaTrasportatoreIniziale</i> - Il formulario
            necessita della firma del trasportatore
            iniziale</li><li><i>FirmaProduttore</i> - Il formulario necessita
            della firma del
            produttore</li><li><i>InserimentoTrasportoSuccessivo</i> - Il
            formulario è in carico ad un traportatore e necessita
            dell'inserimento dei dati del trasporto successivo;
                        il trasportatore che ha in carico il rifiuto può inserire informazioni aggiuntive (annotazioni, trasbordo parziale, sosta tecnica, trasbordo totale, allegati)
                        che dovranno essere successivamente firmate</li><li><i>FirmaTrasportatoreSuccessivo</i> - Il formulario necessita della firma del trasportatore successivo al primo che ha in carico il rifiuto</li><li><i>FirmaAnnotazione</i> - Il formulario necessita della firma dell'annotazione da parte del soggetto che l'ha inserita</li><li><i>FirmaTrasbordoParziale</i> - Il formulario necessita della firma del trasportatore che effettua il trasbordo parziale del rifiuto</li><li><i>FirmaTrasbordoTotale</i> - Il formulario necessita della firma del trasportatore che prende in carico il rifiuto con l'operazione di trasbordo totale del rifiuto</li><li><i>FirmaSostaTecnica</i> - Il formulario necessita della firma del trasportatore che ha in carico il rifiuto e ha inserito i dati della sosta tecnica</li><li><i>FirmaAllegato</i> - Il formulario necessita della firma del soggetto che ha aggiunto i dati relativi all'allegato al formulario digitale. ATTENZIONE!: questo valore è DEPRECATO: lo stato non è più utilizzato, per gli allegati aggiunti via API non è più prevista la firma</li><li><i>InserimentoAccettazione</i> - Il formulario è in carico all'ultimo trasportatore ed è in attesa dell'inserimento dei dati di accettazione da parte del destinatario verso cui è destinato il rifiuto
                        (a meno di ulteriori informazioni aggiuntive che l'ultimo trasportatore può inserire prima della consegna al destinatario)</li><li><i>FirmaAccettazione</i> - Il formulario necessita della firma del destinatario indicato nei dati di partenza</li><li><i>Accettato</i> - Il formulario è stato accettato dal destinatario ed ha concluso il suo ciclo di vita</li><li><i>RespintoAccettatoParzialmente</i> - Il formulario è stato respinto o accettato parzialmente, il trasportatore che ha in carico il rifiuto può inserire (in accordo con il produttore) i dati
                        di un nuovo destinatario</li><li><i>FirmaDestinatarioSuccessivo</i> - Il formulario è in attesa della firma dei dati del nuovo destinatario inseriti da parte del trasportatore che ha in carico il rifiuto</li><li><i>FirmaAccettazioneSuccessiva</i> - Il formulario necessita della firma del destinatario successivo a quello indicato nei dati di partenza che ha rifiutato totalmente o parzialmente il rifiuto</li><li><i>FirmaAnnullamento</i> - Il formulario necessita della firma dei dati di annullamento inseriti dal soggetto titolare della vidimazione del numero FIR</li><li><i>Annullato</i> - Il formulario risulta essere stato annullato</li><li><i>Indeterminato</i> - Il formulario è in uno stato non determinato per incoerenza dei dati contenuti</li></ul></p>
        versione:
          type: integer
          description: >-
            Numero incrementale della versione del formulario presente in Area
            virtuale di interscambio.

            Ad ogni modifica dei dati del formulario che avviene attraverso le
            API di compilazione il numero di versione

            viene incrementato di una unità
          format: int32
          nullable: true
        dati_vidimazione:
          allOf:
            - $ref: '#/components/schemas/VidimazioneResult'
          description: Soggetto che ha provveduto alla vidimazione del numero FIR
          nullable: true
        data_creazione:
          type: string
          description: Timestamp di creazione del FIR
          format: date-time
          nullable: true
        provenienza_upload:
          type: boolean
          description: >-
            Quando le informazioni di dettaglio si riferiscono ad un FIR
            presente nell'area virtuale di interscambio,

            indica se il formulario è stato prodotto e/o modificato al di fuori
            delle API di compilazione
          nullable: true
        num_iscr_sito:
          type: string
          description: >-
            Numero iscrizione dell'unità locale nel contesto della quale è stato
            creato il FIR
          nullable: true
        dati_partenza:
          allOf:
            - $ref: '#/components/schemas/DatiPartenzaResultModel'
          description: Dati di partenza del formulario
          nullable: true
        dati_trasporto:
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/DatiTrasportoTerrestreResultModel'
              - $ref: '#/components/schemas/DatiTrasportoMarittimoResultModel'
              - $ref: '#/components/schemas/DatiTrasportoFerroviarioResultModel'
            description: Dati del trasporto base
          description: >-
            Dati di trasporto per ciascun trasportatore indicato nei dati di
            partenza
          nullable: true
        dati_accettazione:
          allOf:
            - $ref: '#/components/schemas/DatiAccettazioneResultModel'
          description: >-
            Dati di accettazione inseriti dal destinatario indicato nei dati di
            partenza
          nullable: true
        dati_annotazioni:
          type: array
          items:
            $ref: '#/components/schemas/DatiAnnotazioneResultModel'
          description: Dati relativi alle annotazioni aggiuntive
          nullable: true
        dati_allegati:
          type: array
          items:
            $ref: '#/components/schemas/DatiAllegatoResultModel'
          description: Dati relativi agli allegati inseriti via API
          nullable: true
        dati_annullamento:
          allOf:
            - $ref: '#/components/schemas/DatiAnnullamentoResultModel'
          description: Dati relativi all'eventuale annullamento
          nullable: true
        dati_trasbordo_totale:
          allOf:
            - $ref: '#/components/schemas/DatiTrasbordoTotaleResultModel'
          description: Dati relativa all'eventuale trasbordo totale del rifiuto
          nullable: true
        dati_trasbordi_parziali:
          type: array
          items:
            $ref: '#/components/schemas/DatiTrasbordoParzialeResultModel'
          description: Dati relativi agli eventuali trasbordi parziali del rifiuto
          nullable: true
        dati_soste_tecniche:
          type: array
          items:
            $ref: '#/components/schemas/DatiSostaTecnicaResultModel'
          description: Dati relativi alle eventuali soste tecniche effettuate nel trasporto
          nullable: true
        dati_destinazioni_successive:
          type: array
          items:
            $ref: '#/components/schemas/DatiDestinazioniSuccessiveResultModel'
          description: >-
            Dati relativi alle eventuali destinazioni successive inserite per il
            rifiuto a seguito di respingimenti
          nullable: true
      additionalProperties: false
    DownloadableBaseResponse:
      type: object
      properties:
        nome_file:
          type: string
          description: Nome del file
          nullable: true
        mime:
          type: string
          description: Tipo MIME del file
          nullable: true
        content:
          type: string
          description: Contenuto del file
          format: byte
          nullable: true
      additionalProperties: false
    EsitoAddAllegatoModel:
      title: EsitoAddAllegatoModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        allegato_id:
          type: integer
          description: Identificativo interno al FIR digitale associato all'allegato
          format: int32
          nullable: true
    EsitoAllegatoModel:
      type: object
      properties:
        esito:
          title: EsitoAddAllegatoModel
          allOf:
            - $ref: '#/components/schemas/EsitoAddAllegatoModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoCaricaCopiaCartaceaModel:
      title: EsitoCaricaCopiaCartaceaModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        identificativo:
          type: string
          nullable: true
    EsitoCaricaCopiaDigitaleModel:
      title: EsitoCaricaCopiaDigitaleModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        identificativo:
          type: string
          nullable: true
    EsitoCommonModel:
      type: object
    EsitoCopiaCartaceaModel:
      type: object
      properties:
        esito:
          title: EsitoCaricaCopiaCartaceaModel
          allOf:
            - $ref: '#/components/schemas/EsitoCaricaCopiaCartaceaModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoCopiaDigitaleModel:
      type: object
      properties:
        esito:
          title: EsitoCaricaCopiaDigitaleModel
          allOf:
            - $ref: '#/components/schemas/EsitoCaricaCopiaDigitaleModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoCreaFormularioModel:
      type: object
      properties:
        esito:
          title: EsitoNuovoFormularioModel
          allOf:
            - $ref: '#/components/schemas/EsitoNuovoFormularioModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoDatiPerFirmaModel:
      type: object
      properties:
        esito:
          title: EsitoGetHashPerFirmaModel
          allOf:
            - $ref: '#/components/schemas/EsitoGetHashPerFirmaModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoEstraiDatiXfirModel:
      title: EsitoEstraiDatiXfirModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        formulario:
          allOf:
            - $ref: '#/components/schemas/DatiTrasmissioneFormularioModel'
          nullable: true
    EsitoEstrazioneDatiXfirModel:
      type: object
      properties:
        esito:
          title: EsitoEstraiDatiXfirModel
          allOf:
            - $ref: '#/components/schemas/EsitoEstraiDatiXfirModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoFormularioModel:
      type: object
      properties:
        esito:
          oneOf:
            - $ref: '#/components/schemas/EsitoCommonModel'
            - $ref: '#/components/schemas/EsitoNuovoFormularioModel'
            - $ref: '#/components/schemas/EsitoGetHashPerFirmaModel'
            - $ref: '#/components/schemas/EsitoAddAllegatoModel'
            - $ref: '#/components/schemas/EsitoValidaXfirModel'
            - $ref: '#/components/schemas/EsitoUploadXfirModel'
            - $ref: '#/components/schemas/EsitoCaricaCopiaCartaceaModel'
            - $ref: '#/components/schemas/EsitoCaricaCopiaDigitaleModel'
            - $ref: '#/components/schemas/EsitoEstraiDatiXfirModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoGetHashPerFirmaModel:
      title: EsitoGetHashPerFirmaModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        hash_algorithm:
          type: string
          description: >-
            Sigla dell'algoritmo di hashing con cui è stato calcolato il codice
            hash
          nullable: true
        digest_to_sign:
          type: string
          description: Valore del codice hash su cui calcolare la firma crittografica
          nullable: true
        token:
          type: string
          description: >-
            Struttura dati "opaca", richiesta come input nell'endpoint di
            acquisizione della firma crittografica, 

            utilizzata dal backend per collegare le due operazioni
          nullable: true
        versione:
          type: integer
          description: >-
            Versione di modifica del formulario su cui è stato calcolato il
            codice hash da firmare.

            Se diverso dal valore di cui si è presa visione è consigliabile che
            il flusso di chiamata preveda

            un nuovo caricamento dei dati su cui si va ad apporre la firma da
            esporre al soggetto firmatario.
          format: int32
          nullable: true
    EsitoMessaggioModel:
      type: object
      properties:
        indice:
          type: integer
          description: Indice dell'elemento di input relativo al messaggio di validazione
          format: int32
          nullable: true
        campo:
          type: string
          description: Campo dell'elemento di input relativo al messaggio di validazione
          nullable: true
        tipo:
          allOf:
            - $ref: '#/components/schemas/EsitoMessaggioTipo'
          description: Tipo del messaggio (avvertimento o errore)
        codice_messaggio:
          type: string
          description: Codice del messaggio
          nullable: true
        parametri:
          type: array
          items: {}
          description: Parametri del messaggio
          nullable: true
      additionalProperties: false
      description: Messaggio di validazione
    EsitoMessaggioTipo:
      enum:
        - Errore
        - Avvertimento
      type: string
    EsitoModel:
      type: object
      properties:
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
      description: Esito
    EsitoNuovoFormularioModel:
      title: EsitoNuovoFormularioModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        numero_fir:
          type: string
          description: Numero FIR
          nullable: true
    EsitoTrasmissioneDatiModel:
      type: object
      properties:
        esito:
          oneOf:
            - $ref: '#/components/schemas/EsitoCommonModel'
            - $ref: '#/components/schemas/EsitoNuovoFormularioModel'
            - $ref: '#/components/schemas/EsitoGetHashPerFirmaModel'
            - $ref: '#/components/schemas/EsitoAddAllegatoModel'
            - $ref: '#/components/schemas/EsitoValidaXfirModel'
            - $ref: '#/components/schemas/EsitoUploadXfirModel'
            - $ref: '#/components/schemas/EsitoCaricaCopiaCartaceaModel'
            - $ref: '#/components/schemas/EsitoCaricaCopiaDigitaleModel'
            - $ref: '#/components/schemas/EsitoEstraiDatiXfirModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoUploadXfirModel:
      title: EsitoUploadXfirModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        result:
          allOf:
            - $ref: '#/components/schemas/ValidazioneXfirResult'
          nullable: true
    EsitoUploadXfirResultModel:
      type: object
      properties:
        esito:
          title: EsitoUploadXfirModel
          allOf:
            - $ref: '#/components/schemas/EsitoUploadXfirModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EsitoValidaXfirModel:
      title: EsitoValidaXfirModel
      type: object
      allOf:
        - $ref: '#/components/schemas/EsitoCommonModel'
      properties:
        result:
          allOf:
            - $ref: '#/components/schemas/ValidazioneXfirResult'
          nullable: true
    EsitoValidazione:
      enum:
        - Ok
        - Avviso
        - Errore
      type: string
    EsitoValidazioneXfirModel:
      type: object
      properties:
        esito:
          title: EsitoValidaXfirModel
          allOf:
            - $ref: '#/components/schemas/EsitoValidaXfirModel'
          description: Esito
          nullable: true
        tipo:
          type: string
          description: Tipo di esito
          nullable: true
        transazione_id:
          type: string
          description: Identificativo della transazione asincrona
          format: uuid
        validazione:
          type: array
          items:
            $ref: '#/components/schemas/EsitoMessaggioModel'
          description: Messaggi di validazione
          nullable: true
        errore:
          type: boolean
        tempo_elaborazione:
          type: string
          format: date-span
          nullable: true
      additionalProperties: false
    EstraiDatiXfirModel:
      required:
        - xfir
      type: object
      properties:
        xfir:
          type: string
          description: Contenuto del file xFIR
          format: byte
      additionalProperties: false
    FirmaModel:
      required:
        - certificato
        - firma
        - token
      type: object
      properties:
        certificato:
          minLength: 1
          type: string
          description: Certificato in base64
        token:
          minLength: 1
          type: string
          description: >-
            Stringa in base64 contenente il token restituito dalla chiamata con
            cui si è ottenuto l'hash che si è firmato.

            Deve essere restituita assieme alla firma nella procedura di
            acquisizione
        firma:
          minLength: 1
          type: string
          description: >-
            Stringa in base64 contenente l'array di byte che costituisce la
            firma crittografica dell'hash.

            Per firme apposte con chiavi di tipo <i>ECC</i> la serializzazione
            della firma può essere sia secondo lo standard <i>SEC-1</i> che
            <i>IEEE P1363</i>
          format: byte
        identificativo_utente:
          maxLength: 255
          type: string
          description: >-
            Identificativo dell'utente, contestuale all'ambiente di utilizzo del
            chiamante, al quale far risalire l'operazione di firma
          nullable: true
        tipo_firma:
          allOf:
            - $ref: '#/components/schemas/TipoFirma'
          description: >-
            Indica i dati del formulario che si intendono firmare, il valore
            deve essere lo stesso eventualmente indicato con la chiamata
            effettuata per 

            ottenere il codice hash del formulario da firmare.<p>Valori
            ammessi:<ul style="margin:0"><li><i>Produttore</i> - Da indicare
            quando il produttore intende firmare il formulario alla
            partenza.</li><li><i>Trasportatore</i> - Da indicare quando il
            trasportatore intende firmare il formulario alla
            partenza.</li></ul></p>
          nullable: true
      additionalProperties: false
    FormularioItemResult:
      type: object
      properties:
        numero_fir:
          type: string
          description: Numero FIR
          nullable: true
        data_emissione:
          type: string
          description: Data emissione
          format: date-time
          nullable: true
        num_iscr_sito:
          type: string
          description: Numero iscrizione dell'unità locale in cui è stato creato FIR
          nullable: true
        identificativo_soggetto:
          type: string
          description: Identificativo del soggetto
          nullable: true
        data_creazione:
          type: string
          description: Data creazione
          format: date-time
          nullable: true
        codice_eer:
          type: string
          description: Codice EER del rifiuto indicato nel FIR
          nullable: true
        quantita:
          type: number
          description: Quantità del rifiuto
          format: double
          nullable: true
        unita_misura:
          allOf:
            - $ref: '#/components/schemas/UnitaMisura'
          description: >-
            Unità di misura della quantità del rifiuto<p>Valori ammessi:<ul
            style="margin:0"><li><i>kg</i> - Chilogrammi</li><li><i>l</i> -
            Litri</li></ul></p>
          nullable: true
        stato_fisico:
          allOf:
            - $ref: '#/components/schemas/StatiFisici'
          description: >-
            Stato fisico del rifiuto<p>Valori ammessi:<ul
            style="margin:0"><li><i>SP</i> - In polvere o
            pulverulento</li><li><i>S</i> - Solido</li><li><i>FP</i> -
            Fangoso</li><li><i>L</i> - Liquido</li><li><i>VS</i> - Vischioso
            sciropposo</li></ul></p>
          nullable: true
        caratteristiche_pericolo:
          type: string
          description: 'Eventuali caratteristiche di pericolo del rifiuto, quando pericoloso'
          nullable: true
        descrizione_rifiuto:
          type: string
          description: Eventuale descrizione del rifiuto
          nullable: true
        produttore:
          allOf:
            - $ref: '#/components/schemas/ProduttoreItemResult'
          description: Dati anagrafici del produttore/detentore indicato nel formulario
          nullable: true
        trasbordo_parziale_origine:
          allOf:
            - $ref: '#/components/schemas/TrasbordoParzialeOrigineResult'
          description: >-
            Informazioni su FIR e produttore originario, in caso di FIR creato a
            seguito di trasbordo parziale
          nullable: true
        destinatari:
          type: array
          items:
            $ref: '#/components/schemas/DestinatarioItemResult'
          description: Dati anagrafici dei destinatari indicati nel formulario
          nullable: true
        trasportatori:
          type: array
          items:
            $ref: '#/components/schemas/TrasportatoreItemResult'
          description: Dati anagrafici dei trasportatori indicati nel formulario
          nullable: true
        intermediari:
          type: array
          items:
            $ref: '#/components/schemas/IntermediarioItemResult'
          description: Dati anagrafici degli intermediari indicati nel formulario
          nullable: true
        accettazione:
          allOf:
            - $ref: '#/components/schemas/AccettazioneItemResult'
          description: Dati di accettazione del rifiuto
          nullable: true
        stato:
          allOf:
            - $ref: '#/components/schemas/StatoFormulario'
          description: >-
            Stato del formulario<p>Valori ammessi:<ul
            style="margin:0"><li><i>InserimentoQuantita</i> - Il formulario
            necessita dei dati sulla quantità del
            rifiuto</li><li><i>InserimentoQuantitaTrasportoIniziale</i> - Il
            formulario necessita dei dati sulla quantità del rifiuto e dei dati
            del trasporto iniziale</li><li><i>InserimentoTrasportoIniziale</i> -
            Il formulario necessita dei dati del trasporto
            iniziale</li><li><i>FirmaProduttoreTrasportatoreIniziale</i> - Il
            formulario necessita della firma del produttore e del trasportatore
            iniziale</li><li><i>FirmaTrasportatoreIniziale</i> - Il formulario
            necessita della firma del trasportatore
            iniziale</li><li><i>FirmaProduttore</i> - Il formulario necessita
            della firma del
            produttore</li><li><i>InserimentoTrasportoSuccessivo</i> - Il
            formulario è in carico ad un traportatore e necessita
            dell'inserimento dei dati del trasporto successivo;
                        il trasportatore che ha in carico il rifiuto può inserire informazioni aggiuntive (annotazioni, trasbordo parziale, sosta tecnica, trasbordo totale, allegati)
                        che dovranno essere successivamente firmate</li><li><i>FirmaTrasportatoreSuccessivo</i> - Il formulario necessita della firma del trasportatore successivo al primo che ha in carico il rifiuto</li><li><i>FirmaAnnotazione</i> - Il formulario necessita della firma dell'annotazione da parte del soggetto che l'ha inserita</li><li><i>FirmaTrasbordoParziale</i> - Il formulario necessita della firma del trasportatore che effettua il trasbordo parziale del rifiuto</li><li><i>FirmaTrasbordoTotale</i> - Il formulario necessita della firma del trasportatore che prende in carico il rifiuto con l'operazione di trasbordo totale del rifiuto</li><li><i>FirmaSostaTecnica</i> - Il formulario necessita della firma del trasportatore che ha in carico il rifiuto e ha inserito i dati della sosta tecnica</li><li><i>FirmaAllegato</i> - Il formulario necessita della firma del soggetto che ha aggiunto i dati relativi all'allegato al formulario digitale. ATTENZIONE!: questo valore è DEPRECATO: lo stato non è più utilizzato, per gli allegati aggiunti via API non è più prevista la firma</li><li><i>InserimentoAccettazione</i> - Il formulario è in carico all'ultimo trasportatore ed è in attesa dell'inserimento dei dati di accettazione da parte del destinatario verso cui è destinato il rifiuto
                        (a meno di ulteriori informazioni aggiuntive che l'ultimo trasportatore può inserire prima della consegna al destinatario)</li><li><i>FirmaAccettazione</i> - Il formulario necessita della firma del destinatario indicato nei dati di partenza</li><li><i>Accettato</i> - Il formulario è stato accettato dal destinatario ed ha concluso il suo ciclo di vita</li><li><i>RespintoAccettatoParzialmente</i> - Il formulario è stato respinto o accettato parzialmente, il trasportatore che ha in carico il rifiuto può inserire (in accordo con il produttore) i dati
                        di un nuovo destinatario</li><li><i>FirmaDestinatarioSuccessivo</i> - Il formulario è in attesa della firma dei dati del nuovo destinatario inseriti da parte del trasportatore che ha in carico il rifiuto</li><li><i>FirmaAccettazioneSuccessiva</i> - Il formulario necessita della firma del destinatario successivo a quello indicato nei dati di partenza che ha rifiutato totalmente o parzialmente il rifiuto</li><li><i>FirmaAnnullamento</i> - Il formulario necessita della firma dei dati di annullamento inseriti dal soggetto titolare della vidimazione del numero FIR</li><li><i>Annullato</i> - Il formulario risulta essere stato annullato</li><li><i>Indeterminato</i> - Il formulario è in uno stato non determinato per incoerenza dei dati contenuti</li></ul></p>
          nullable: true
        is_upload:
          type: boolean
          description: >-
            Indica se il formulario è stato prodotto e/o modificato al di fuori
            dell'area virtuale di interscambio
          nullable: true
        versione:
          type: integer
          description: >-
            Numero incrementale della versione del formulario presente in Area
            virtuale di interscambio
          format: int32
          nullable: true
      additionalProperties: false
      description: >-
        Contiene le informazioni principali riguardanti un FIR digitale in area
        virtuale di interscambio, 

        utilizzato dagli endpoint che restituiscono elencazioni di FIR
    IAnagrafica:
      type: object
      properties:
        denominazione:
          type: string
          description: Denominazione del soggetto
          nullable: true
        codice_fiscale:
          type: string
          description: Codice fiscale del soggetto
          nullable: true
      additionalProperties: false
    IndirizzoModel:
      required:
        - citta
        - indirizzo
      type: object
      properties:
        citta:
          oneOf:
            - $ref: '#/components/schemas/ComuneModel'
            - $ref: '#/components/schemas/CittaEsteraModel'
          description: Città estera o comune Italiano
        indirizzo:
          maxLength: 100
          minLength: 1
          type: string
          description: Indirizzo
        civico:
          maxLength: 20
          type: string
          description: Civico
          nullable: true
        cap:
          maxLength: 20
          type: string
          description: 'CAP (se indirizzo italiano 5 cifre, altrimenti da 2 a 20 caratteri)'
          nullable: true
      additionalProperties: false
      description: Indirizzo
    InfoFormulario:
      type: object
      properties:
        versione:
          type: integer
          description: >-
            Versione del formulario, calcolato in base alle modifiche apposte
            attraverso le API
          format: int32
          nullable: true
        stato_formulario:
          allOf:
            - $ref: '#/components/schemas/StatoFormulario'
          description: >-
            Stato del formulario<p>Valori ammessi:<ul
            style="margin:0"><li><i>InserimentoQuantita</i> - Il formulario
            necessita dei dati sulla quantità del
            rifiuto</li><li><i>InserimentoQuantitaTrasportoIniziale</i> - Il
            formulario necessita dei dati sulla quantità del rifiuto e dei dati
            del trasporto iniziale</li><li><i>InserimentoTrasportoIniziale</i> -
            Il formulario necessita dei dati del trasporto
            iniziale</li><li><i>FirmaProduttoreTrasportatoreIniziale</i> - Il
            formulario necessita della firma del produttore e del trasportatore
            iniziale</li><li><i>FirmaTrasportatoreIniziale</i> - Il formulario
            necessita della firma del trasportatore
            iniziale</li><li><i>FirmaProduttore</i> - Il formulario necessita
            della firma del
            produttore</li><li><i>InserimentoTrasportoSuccessivo</i> - Il
            formulario è in carico ad un traportatore e necessita
            dell'inserimento dei dati del trasporto successivo;
                        il trasportatore che ha in carico il rifiuto può inserire informazioni aggiuntive (annotazioni, trasbordo parziale, sosta tecnica, trasbordo totale, allegati)
                        che dovranno essere successivamente firmate</li><li><i>FirmaTrasportatoreSuccessivo</i> - Il formulario necessita della firma del trasportatore successivo al primo che ha in carico il rifiuto</li><li><i>FirmaAnnotazione</i> - Il formulario necessita della firma dell'annotazione da parte del soggetto che l'ha inserita</li><li><i>FirmaTrasbordoParziale</i> - Il formulario necessita della firma del trasportatore che effettua il trasbordo parziale del rifiuto</li><li><i>FirmaTrasbordoTotale</i> - Il formulario necessita della firma del trasportatore che prende in carico il rifiuto con l'operazione di trasbordo totale del rifiuto</li><li><i>FirmaSostaTecnica</i> - Il formulario necessita della firma del trasportatore che ha in carico il rifiuto e ha inserito i dati della sosta tecnica</li><li><i>FirmaAllegato</i> - Il formulario necessita della firma del soggetto che ha aggiunto i dati relativi all'allegato al formulario digitale. ATTENZIONE!: questo valore è DEPRECATO: lo stato non è più utilizzato, per gli allegati aggiunti via API non è più prevista la firma</li><li><i>InserimentoAccettazione</i> - Il formulario è in carico all'ultimo trasportatore ed è in attesa dell'inserimento dei dati di accettazione da parte del destinatario verso cui è destinato il rifiuto
                        (a meno di ulteriori informazioni aggiuntive che l'ultimo trasportatore può inserire prima della consegna al destinatario)</li><li><i>FirmaAccettazione</i> - Il formulario necessita della firma del destinatario indicato nei dati di partenza</li><li><i>Accettato</i> - Il formulario è stato accettato dal destinatario ed ha concluso il suo ciclo di vita</li><li><i>RespintoAccettatoParzialmente</i> - Il formulario è stato respinto o accettato parzialmente, il trasportatore che ha in carico il rifiuto può inserire (in accordo con il produttore) i dati
                        di un nuovo destinatario</li><li><i>FirmaDestinatarioSuccessivo</i> - Il formulario è in attesa della firma dei dati del nuovo destinatario inseriti da parte del trasportatore che ha in carico il rifiuto</li><li><i>FirmaAccettazioneSuccessiva</i> - Il formulario necessita della firma del destinatario successivo a quello indicato nei dati di partenza che ha rifiutato totalmente o parzialmente il rifiuto</li><li><i>FirmaAnnullamento</i> - Il formulario necessita della firma dei dati di annullamento inseriti dal soggetto titolare della vidimazione del numero FIR</li><li><i>Annullato</i> - Il formulario risulta essere stato annullato</li><li><i>Indeterminato</i> - Il formulario è in uno stato non determinato per incoerenza dei dati contenuti</li></ul></p>
          nullable: true
      additionalProperties: false
    IntermediarioItemResult:
      type: object
      properties:
        num_iscr_sito:
          type: string
          nullable: true
        denominazione:
          type: string
          nullable: true
        codice_fiscale:
          type: string
          nullable: true
      additionalProperties: false
      description: Dati anagrafici riassuntivi riferiti ad un intermediario
    NormativaADRModel:
      type: object
      properties:
        numero_onu:
          maxLength: 20
          type: string
          description: Numero ONU
          nullable: true
        classe:
          maxLength: 20
          type: string
          nullable: true
        note:
          maxLength: 500
          type: string
          description: Note ADR
          nullable: true
      additionalProperties: false
      description: Normativa ADR
    NoteAnnullamentoModel:
      required:
        - note
      type: object
      properties:
        note:
          maxLength: 1024
          minLength: 1
          type: string
          description: Note di annullamento
      additionalProperties: false
      description: Dati richiesti per l'aggiunta delle note di annullamento di un FIR
    NuovoFormularioModel:
      required:
        - dati_partenza
        - num_iscr_sito
      type: object
      properties:
        num_iscr_sito:
          minLength: 1
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          description: >-
            Numero iscrizione unità locale di riferimento a cui il formulario
            verrà associato.


            L'unità locale deve appartenere al produttore o al primo
            trasportatore.
        dati_partenza:
          allOf:
            - $ref: '#/components/schemas/DatiPartenzaModel'
          description: Dati iniziali del formulario
        dati_trasporto_partenza:
          oneOf:
            - $ref: '#/components/schemas/DatiTrasportoTerrestreModel'
            - $ref: '#/components/schemas/DatiTrasportoMarittimoModel'
            - $ref: '#/components/schemas/DatiTrasportoFerroviarioModel'
          description: Dati del trasporto iniziale
          nullable: true
      additionalProperties: false
      description: Formulario
    Operazione:
      enum:
        - Trasporto
        - TrasportoUpdate
        - DatiQuantita
        - DatiQuantitaUpdate
        - Accettazione
        - Allegato
        - Annotazione
        - Reset
        - Rilascia
        - Annulla
        - NoteAnnullamento
        - Hash
        - TrasbordoTotale
        - TrasbordoParziale
        - SostaTecnica
        - NuovoDestinatario
        - AcquisizioneFirma
        - AcquisizioneFirmaAnnullamento
        - AcquisizioneFirmaTrasportatore
        - AcquisizioneFirmaProduttore
        - AcquisizioneFirmaProduttoreTrasportatore
        - AcquisizioneFirmaDestinatario
        - AcquisizioneFirmaAnnotazione
        - AcquisizioneFirmaTrasbordoTotale
        - AcquisizioneFirmaSostaTecnica
        - AcquisizioneFirmaTrasbordoParziale
        - AcquisizioneFirmaDestinatarioSuccessivo
        - AcquisizioneFirmaAccettazioneSuccessiva
        - RollbackFirma
      type: string
    OperazioniRecuperoSmaltimento:
      enum:
        - R1
        - R2
        - R3
        - R4
        - R5
        - R6
        - R7
        - R8
        - R9
        - R10
        - R11
        - R12
        - R13
        - D1
        - D2
        - D3
        - D4
        - D5
        - D6
        - D7
        - D8
        - D9
        - D10
        - D11
        - D12
        - D13
        - D14
        - D15
      type: string
    ProblemDetails:
      type: object
      properties:
        type:
          type: string
          nullable: true
        title:
          type: string
          nullable: true
        status:
          type: integer
          format: int32
          nullable: true
        detail:
          type: string
          nullable: true
        instance:
          type: string
          nullable: true
      additionalProperties: {}
    ProduttoreItemResult:
      type: object
      properties:
        num_iscr_sito:
          type: string
          nullable: true
        denominazione:
          type: string
          nullable: true
        codice_fiscale:
          type: string
          nullable: true
        indirizzo:
          type: string
          nullable: true
        civico:
          type: string
          nullable: true
        comune_id:
          type: string
          nullable: true
        nazione_id:
          type: string
          nullable: true
        citta_estera:
          type: string
          nullable: true
      additionalProperties: false
      description: Dati anagrafici riassuntivi riferiti ad un produttore
    ProprietaDatiNotificaPushCaricaCopiaDigitaleModel:
      type: object
      properties:
        identificativo:
          type: string
          description: Identificativo della copia digitale caricata
          nullable: true
        numero_fir:
          type: string
          description: Numero FIR
          nullable: true
        data_evento:
          type: string
          description: Data di caricamento della copia digitale
          format: date-time
        tipo_accettazione:
          allOf:
            - $ref: '#/components/schemas/TipiAccettazione'
          description: Tipo di accettazione indicato nel formulario digitale
        destinatario:
          allOf:
            - $ref: '#/components/schemas/IAnagrafica'
          description: Destinatario indicato nel formulario digitale
          nullable: true
      additionalProperties: false
      description: >-
        Proprietà specifiche della notifica per il caricamento della copia
        digitale
    ProvenienzaRifiuto:
      enum:
        - U
        - S
      type: string
    QuantitaKgModel:
      required:
        - valore
      type: object
      properties:
        valore:
          type: number
          description: >-
            Quantità (parte intera: 10, parte decimale: 4) compresa tra 0.0000 e
            9999999999.9999.
          format: double
      additionalProperties: false
    QuantitaModel:
      required:
        - unita_misura
        - valore
      type: object
      properties:
        valore:
          type: number
          description: >-
            Quantità (parte intera: 10, parte decimale: 4) compresa tra 0.0000 e
            9999999999.9999.
          format: double
        unita_misura:
          allOf:
            - $ref: '#/components/schemas/UnitaMisura'
          description: >-
            Unità di misura della quantità


            Vedi API di codifica: <i>GET
            /codifiche/v1.0/unita-misura</i><p>Valori ammessi:<ul
            style="margin:0"><li><i>kg</i> - Chilogrammi</li><li><i>l</i> -
            Litri</li></ul></p>
      additionalProperties: false
    QuantitaRifiutoModel:
      required:
        - quantita
      type: object
      properties:
        quantita:
          allOf:
            - $ref: '#/components/schemas/QuantitaModel'
          description: Quantità
        verificato_in_partenza:
          type: boolean
          description: Verificato in partenza
          nullable: true
        numero_colli:
          maxLength: 50
          type: string
          description: |-
            Numero di colli. 
            Specificare un valore in caso non si imposti "rinfusa" a <i>true</i>
          nullable: true
        rinfusa:
          type: boolean
          description: >-
            Rinfusa. 

            Se valorizzato a <i>true</i> indica che il rifiuto non è
            partizionato in colli.
          nullable: true
      additionalProperties: false
    RuoloConfermaCopiaCartacea:
      enum:
        - Produttore
        - Trasportatore
        - Intermediario
      type: string
    RuoloConfermaCopiaDigitale:
      enum:
        - Produttore
        - Trasportatore
        - Intermediario
      type: string
    SoggettoItemResult:
      type: object
      properties:
        denominazione:
          type: string
          nullable: true
        codice_fiscale:
          type: string
          nullable: true
      additionalProperties: false
      description: Dati anagrafici riassuntivi riferiti ad un soggetto
    StatiFisici:
      enum:
        - SP
        - S
        - FP
        - L
        - VS
      type: string
    StatiTrasmissioneDati:
      enum:
        - Attivo
        - Annullato
      type: string
    StatoFormulario:
      enum:
        - InserimentoQuantita
        - InserimentoQuantitaTrasportoIniziale
        - InserimentoTrasportoIniziale
        - FirmaProduttoreTrasportatoreIniziale
        - FirmaTrasportatoreIniziale
        - FirmaProduttore
        - InserimentoTrasportoSuccessivo
        - FirmaTrasportatoreSuccessivo
        - FirmaAnnotazione
        - FirmaTrasbordoParziale
        - FirmaTrasbordoTotale
        - FirmaSostaTecnica
        - FirmaAllegato
        - InserimentoAccettazione
        - FirmaAccettazione
        - Accettato
        - RespintoAccettatoParzialmente
        - FirmaDestinatarioSuccessivo
        - FirmaAccettazioneSuccessiva
        - FirmaAnnullamento
        - Annullato
        - Indeterminato
      type: string
      description: Stati del FIR digitale
    StatusResponse:
      type: object
      properties:
        status:
          allOf:
            - $ref: '#/components/schemas/StatusResponseEnum'
          description: >-
            Stato dell'API<p>Valori ammessi:<ul style="margin:0"><li><i>Ok</i> -
            API regolarmente funzionante</li><li><i>Warning</i> - API
            funzionante, ma con probabili disservizi come indicato nei
            warning</li></ul></p>
        warnings:
          type: array
          items:
            type: string
          description: Eventuali messaggi di warning relativi allo stato dell'API
          nullable: true
      additionalProperties: false
      description: Risposta di stato dell'API
    StatusResponseEnum:
      enum:
        - Ok
        - Warning
      type: string
      description: Enumerazione dello stato dell'API.
    TipiAccettazione:
      enum:
        - A
        - P
        - R
      type: string
    TipiAutorizzazione:
      enum:
        - RecSmalArt208
        - RecSmalImpMobiliArt208
        - RicercaSperimentazione
        - AIA
        - RecProcSemplificata
        - OpBonifica
        - Straordinario
        - ComTrattamentoAcqueReflue
        - AutTrattamentoAcqueReflue
      type: string
    TipoAnalisiClassificazione:
      enum:
        - Analisi
        - Classificazione
      type: string
    TipoFirma:
      enum:
        - Produttore
        - Trasportatore
      type: string
    TipoTrasmissione:
      enum:
        - Supporto
        - Api
        - AppMobileRentri
      type: string
    TipoTrasporto:
      enum:
        - Terrestre
        - Ferroviario
        - Marittimo
      type: string
    TransazioneModel:
      type: object
      properties:
        transazione_id:
          type: string
          format: uuid
      additionalProperties: false
    TrasbordoParzialeOrigineResult:
      type: object
      properties:
        numero_fir_origine:
          type: string
          description: Numero FIR del formulario di origine
          nullable: true
        produttore_origine:
          allOf:
            - $ref: '#/components/schemas/SoggettoItemResult'
          description: Dati anagrafici del produttore/detentore del formulario di origine
          nullable: true
      additionalProperties: false
      description: >-
        Rifierimenti al FIR originario per i formulari che nascono da operazioni
        di trasbordo parziale
    TrasmissioneDatiItemResult:
      type: object
      properties:
        identificativo:
          type: string
          description: Numero identificativo univoco della trasmissione dati
          nullable: true
        sito_oggetto_trasmissione:
          allOf:
            - $ref: '#/components/schemas/TrasmissioneDatiSitoResult'
          description: Unità locale a cui si riferisce la trasmissione dei dati
          nullable: true
        sito_trasportatore_per_conto_produttore:
          allOf:
            - $ref: '#/components/schemas/TrasmissioneDatiSitoResult'
          description: >-
            Eventuale unità locale del trasportatore che ha provveduto a
            trasmettere i dati per conto del produttore
          nullable: true
        numero_fir:
          type: string
          description: Numero FIR del formulario trasmesso
          nullable: true
        user_name:
          type: string
          description: >-
            Identificazione dell'utente o soggetto che ha eseguito la
            trasmissione
          nullable: true
        data_trasmissione:
          type: string
          description: >-
            Data in cui è stata effettuata la trasmissione (Formato ISO 8601
            UTC)
          format: date-time
          nullable: true
        data_emissione:
          type: string
          description: Data emissione del formulario trasmesso (Formato ISO 8601 UTC)
          format: date-time
          nullable: true
        codice_eer:
          type: string
          description: Codice EER del rifiuto oggetto del formulario trasmesso
          nullable: true
        rifiuto_quantita:
          type: number
          description: >-
            Quantità del rifiuto indicata dal produttore nel formulario
            trasmesso
          format: double
          nullable: true
        rifiuto_unita_misura:
          allOf:
            - $ref: '#/components/schemas/UnitaMisura'
          description: >-
            Unità di misura della quantità del rifiuto indicata dal produttore
            nel formulario trasmesso<p>Valori ammessi:<ul
            style="margin:0"><li><i>kg</i> - Chilogrammi</li><li><i>l</i> -
            Litri</li></ul></p>
          nullable: true
        tipo:
          allOf:
            - $ref: '#/components/schemas/TipoTrasmissione'
          description: Modalità con cui è avvenuta la trasmissione dei dati
          nullable: true
        stato:
          allOf:
            - $ref: '#/components/schemas/StatiTrasmissioneDati'
          description: Stato della trasmissione
      additionalProperties: false
      description: >-
        Oggetto che contiene gli estremi di una trasmissione dati di FIR
        digitale
    TrasmissioneDatiResult:
      type: object
      properties:
        identificativo:
          type: string
          description: Numero identificativo univoco della trasmissione dati
          nullable: true
        sito_oggetto_trasmissione:
          allOf:
            - $ref: '#/components/schemas/TrasmissioneDatiSitoResult'
          description: Unità locale a cui si riferisce la trasmissione dei dati
          nullable: true
        sito_trasportatore_per_conto_produttore:
          allOf:
            - $ref: '#/components/schemas/TrasmissioneDatiSitoResult'
          description: >-
            Eventuale unità locale del trasportatore che ha provveduto ad
            trasmettere i dati per conto del produttore
          nullable: true
        numero_fir:
          type: string
          description: Numero FIR del formulario trasmesso
          nullable: true
        user_name:
          type: string
          description: >-
            Identificazione dell'utente o soggetto che ha eseguito la
            trasmissione
          nullable: true
        data_trasmissione:
          type: string
          description: >-
            Data in cui è stata effettuata la trasmissione (Formato ISO 8601
            UTC)
          format: date-time
          nullable: true
        data_emissione:
          type: string
          description: Data emissione del formulario trasmesso (Formato ISO 8601 UTC)
          format: date-time
          nullable: true
          deprecated: true
        tipo:
          allOf:
            - $ref: '#/components/schemas/TipoTrasmissione'
          description: Modalità con cui è avvenuta la trasmissione dei dati
          nullable: true
        stato:
          allOf:
            - $ref: '#/components/schemas/StatiTrasmissioneDati'
          description: Stato della trasmissione
        formulario:
          allOf:
            - $ref: '#/components/schemas/DatiTrasmissioneFormularioModel'
          description: Dati del formulario inviati con la trasmissione
          nullable: true
      additionalProperties: false
    TrasmissioneDatiSitoResult:
      type: object
      properties:
        num_iscr_sito:
          type: string
          description: Numero iscrizione dell'unità locale
          nullable: true
        codice_fiscale:
          type: string
          description: Identificativo del soggetto
          nullable: true
        denominazione:
          type: string
          description: Denominazione del soggettto
          nullable: true
        comune_id:
          type: string
          description: Codice ISTAT comune dell'unità locale del soggetto
          nullable: true
        indirizzo:
          type: string
          description: Indirizzo dell'unità locale del soggetto
          nullable: true
        civico:
          type: string
          description: Numero civico dell'unità locale del soggetto
          nullable: true
      additionalProperties: false
    TrasmissioneFormularioResponse:
      type: object
      properties:
        identificativo:
          type: string
          nullable: true
      additionalProperties: false
    TrasportatoreItemResult:
      type: object
      properties:
        num_iscr_sito:
          type: string
          nullable: true
        is_trasbordo_totale:
          type: boolean
          nullable: true
        denominazione:
          type: string
          nullable: true
        codice_fiscale:
          type: string
          nullable: true
      additionalProperties: false
      description: Dati anagrafici riassuntivi riferiti ad un trasportatore
    UnitaMisura:
      enum:
        - kg
        - l
      type: string
    UploadXfirModel:
      required:
        - num_iscr_sito
        - xfir
      type: object
      properties:
        num_iscr_sito:
          minLength: 1
          pattern: '^OP[0-9]{4}[A-Z0-9]{3}[0-9]{6}-[A-Z]{2}[0-9]{4}$'
          type: string
          description: Numero iscrizione dell'unità locale
        xfir:
          type: string
          description: Contenuto del file xFIR
          format: byte
      additionalProperties: false
    ValidaXfirModel:
      required:
        - xfir
      type: object
      properties:
        xfir:
          type: string
          description: Contenuto del file xFIR
          format: byte
      additionalProperties: false
    ValidazioneXfirResult:
      type: object
      properties:
        formulario:
          allOf:
            - $ref: '#/components/schemas/DettaglioFormulario'
          nullable: true
        formulario_presente_in_rentri:
          type: boolean
          description: >-
            Indica se un formulario con lo stesso Numero FIR è presente
            nell'area virtuale di interscambio RENTRI
          nullable: true
        formulario_aggiornato_in_rentri:
          type: boolean
          description: >-
            Se il formulario è già presente nell'area di interscambio RENTRI,
            quando valorizzato a true indica che lo stato di avanzamento del
            file validato è lo stesso della versione presente in RENTRI
          nullable: true
        formato:
          type: array
          items:
            $ref: '#/components/schemas/ControlloFormatoResult'
          description: >-
            Lista dei controlli effettuati riguardanti il formato del file
            validato
          nullable: true
        schema:
          type: array
          items:
            $ref: '#/components/schemas/ControlloSchemaResult'
          description: >-
            Lista dei controlli effettuati riguardanti lo schema dei file XML, e
            l'integrità referenziale dei dati presenti
          nullable: true
        firme:
          type: array
          items:
            $ref: '#/components/schemas/ControlloFirmeResult'
          description: >-
            Lista dei controlli effettuati riguardanti le firme digitali
            presenti nel file
          nullable: true
        vidimazione:
          type: array
          items:
            $ref: '#/components/schemas/ControlloVidimazioneResult'
          description: Lista dei controlli sul file di vidimazione del FIR e sul suo stato
          nullable: true
        valido:
          type: boolean
          description: >-
            Dato riassuntivo sulla presenza di controlli che segnalano errori
            bloccanti
      additionalProperties: false
    VidimazioneResult:
      type: object
      properties:
        codice_fiscale:
          type: string
          description: >-
            Codice fiscale del soggetto a cui è riconducibile la vidimazione del
            numero FIR
          nullable: true
        denominazione:
          type: string
          description: >-
            Denominazione del soggetto a cui è riconducibile la vidimazione del
            numero FIR
          nullable: true
      additionalProperties: false
  securitySchemes:
    Bearer:
      type: http
      description: Bearer JWT
      scheme: bearer
      bearerFormat: JWT
security:
  - Bearer: []
tags:
  - name: Copia FIR cartaceo
  - name: Copia FIR digitale
  - name: Formulario digitale
  - name: Trasmissione dati operatore
  - name: Trasmissione dati soggetto delegato
